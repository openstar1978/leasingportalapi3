@{
    Layout = null;
    var pageName = (string)(Page.Title);
    var classes = "";

    switch (pageName)
    {
        case "index":
        case "ShopByArea":
            classes = "page-template page-template-template-homepage-v4 page-template-template-homepage-v4-php page page-id-4726 woocommerce-no-js electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive";
            break;
        case "indexblue":
            classes = "page-template page-template-template-homepage-v4 page-template-template-homepage-v4-php page page-id-4726 woocommerce-no-js electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive";
            break;
        case "indexpurple":
            classes = "page-template page-template-template-homepage-v4 page-template-template-homepage-v4-php page page-id-4726 woocommerce-no-js electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive";
            break;
        case "Category":
            classes = "archive tax-product_cat term-106 woocommerce woocommerce-page woocommerce-no-js left-sidebar electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive";
            break;
        case "AllProduct":
            classes = "archive tax-product_cat term-126 woocommerce woocommerce-page woocommerce-js left-sidebar electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive  pace-done";
            break;
        case "SingleProduct":
            classes = "product-template-default single single-product postid-2439 woocommerce woocommerce-page woocommerce-js full-width extended electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive  pace-done";
            break;
        default:
            classes = "page-template page-template-template-homepage-v4 page-template-template-homepage-v4-php page page-id-4726 woocommerce-no-js electro-compact electro-wide wpb-js-composer js-comp-ver-5.7 vc_responsive";
            break;
    }





}

<html lang="en-US">
<head>
    <script>document.documentElement.className = document.documentElement.className + ' yes-js js_active js'</script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />

    <title>@*Page.title*@ EYS - UK's No. 1 Education and School Leasing Portal</title>

    <meta name="description" content="">
    <meta name="keywords" content="EYS - UK's No. 1 Education and School Leasing Portal">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta content="2 days" name="revisit">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="mobile-web-app-capable" content="yes">
    <meta content="Global" name="distribution">
    <meta content="General" name="rating">
    <meta content="All" name="audience">


    <style type="text/css">
        img.wp-smiley,
        img.emoji {
            display: inline !important;
            border: none !important;
            box-shadow: none !important;
            height: 1em !important;
            width: 1em !important;
            margin: 0 .07em !important;
            vertical-align: -0.1em !important;
            background: none !important;
            padding: 0 !important;
        }

        .dropdowncontent {
            display: none;
            left: 5%;
            background: #fff;
            padding: 5px 5px;
            width: 100%;
            opacity: 0;
            border: 1px solid #b3b3b3;
            max-height: 200px;
            height: auto !important;
            position: relative !important;
            box-shadow: 0px 1px 5px 0px rgb(0 0 0 / 26%);
        }

            .dropdowncontent li:hover {
                background: rgba(0, 0, 0, .1);
            }

        .mydropdownmenu:hover .dropdowncontent {
            left: 0%;
            opacity: 1;
            display: block;
        }

        .mydropdownmenu:hover ul li {
            padding: 0px 20px !important;
        }

        .mydropdownmenu a {
            font-size: 0.875rem !important;
        }

        .header-v5 {
            background: #360874;
        }
    </style>

    <!--<link rel="stylesheet" id="wp-block-library-css" href="~/Content/css/style.min.css" type="text/css" media="all">-->
    <link rel="stylesheet" id="jquery-selectBox-css" href="~/Content/css/jquery.selectBox.css" type="text/css" media="all">
    <link rel="stylesheet" id="yith-wcwl-font-awesome-css" href="~/Content/css/font-awesome.min.css" type="text/css" media="all">
    <link rel="stylesheet" id="yith-wcwl-main-css" href="~/Content/css/style.css" type="text/css" media="all">
    <link rel="stylesheet" id="contact-form-7-css" href="~/Content/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" id="rs-plugin-settings-css" href="~/Content/css/settings.css" type="text/css" media="all">
    <link rel="stylesheet" href="~/Content/offline/offline-theme-default.css" />
    <link rel="stylesheet" href="~/Content/offline/offline-language-english.css" />
    <!--<link rel="stylesheet" href="~/Content/css/datatables.min.css">-->
    <style id='rs-plugin-settings-inline-css' type='text/css'>
        #rs-demo-id {
        }
    </style>
    <style id='woocommerce-inline-inline-css' type='text/css'>
        .woocommerce form .form-row .required {
            visibility: visible;
        }
    </style>
    <style>
        [ng-cloak] {
            display: none !important;
        }

        @@media print {
            @@page {
                margin: 0;
            }

            body {
                margin: 1.6cm;
            }

            header, footer, aside, nav, form, iframe, .menu, .hero, .adslot {
                display: none !important;
            }
        }

        .term-add-to-cart {
            border-bottom: 1px solid #ddd;
            height: auto;
            padding-bottom: 11px;
            float: left;
            margin-bottom: 5px;
        }

            .term-add-to-cart .col-xs-6 {
                padding-left: 0px;
                padding-right: 5px;
            }

        .term-freq select, .term-period select {
            padding: 5px;
            height: 34px;
            border-radius: 5px;
        }

        .no-js #loader {
            display: none;
        }

        .js #loader {
            display: block;
            position: absolute;
            left: 100px;
            top: 0;
        }

        .se-pre-con {
            position: absolute;
            left: 0px;
            top: 0px;
            /*bottom: 200px;*/
            width: 100%;
            height: 100%;
            z-index: 999 !important;
            background: url('../Content/images/Preloader_11.gif')50% 30% no-repeat #fff;
            opacity: 1;
        }

        .se-pre-con3 {
            position: absolute;
            left: 0px;
            top: 0px;
            /*bottom: 200px;*/
            width: 100%;
            height: 100px;
            z-index: 999 !important;
            background: url('../Content/images/Preloader_11.gif')center center no-repeat #fff;
        }

        .se-pre-con2 {
            left: 0px;
            top: 0px;
            /*bottom: 200px;*/
            width: 100%;
            height: 100%;
            z-index: 998 !important;
            background: url('../Content/images/preloader2.gif')center center no-repeat #fff;
        }

        .se-pre-con.sticky {
            top: 93px;
        }

        #content {
            position: relative;
            display: block;
            min-height: 300px;
        }



        .spinner {
            width: 40px;
            height: 40px;
            position: relative;
            margin: 100px auto;
        }

        .double-bounce1, .double-bounce2 {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: #333;
            opacity: 0.6;
            position: absolute;
            top: 0;
            left: 0;
            -webkit-animation: sk-bounce 2.0s infinite ease-in-out;
            animation: sk-bounce 2.0s infinite ease-in-out;
        }

        .double-bounce2 {
            -webkit-animation-delay: -1.0s;
            animation-delay: -1.0s;
        }

        .add-to-compare-link1:before {
            font: normal normal normal 14px/1 font-electro;
            margin-right: 6px;
            content: "\64";
            vertical-align: middle;
            display: inline-block;
            font-size: 16px;
        }

        @@-webkit-keyframes sk-bounce {
            0%, 100% {
                -webkit-transform: scale(0.0);
            }

            50% {
                -webkit-transform: scale(1.0);
            }
        }

        @@keyframes sk-bounce {
            0%, 100% {
                transform: scale(0.0);
                -webkit-transform: scale(0.0);
            }

            50% {
                transform: scale(1.0);
                -webkit-transform: scale(1.0);
            }
        }

        .footer-bottom-widgets {
            background-color: #929292;
        }

        .modal:nth-of-type(even) {
            z-index: 111111 !important;
        }

        .modal-backdrop.show:nth-of-type(even) {
            z-index: 111110 !important;
        }

        .modal {
            background: #00000094;
            z-index: 1111111 !important;
        }
    </style>
    <link rel="stylesheet" id="jquery-colorbox-css" href="~/Content/css/colorbox.css" type="text/css" media="all">

    <link rel="stylesheet" id="bootstrap-css" href="~/Content/css/bootstrap.min.css" type="text/css" media="all">
    <link rel="stylesheet" id="fontawesome-css" href="~/Content/css/font-awesome.min(1).css" type="text/css" media="all">
    <link rel="stylesheet" id="animate-css" href="~/Content/css/animate.min.css" type="text/css" media="all">
    <link rel="stylesheet" id="font-electro-css" href="~/Content/css/font-electro.css" type="text/css" media="all">
    <link rel="stylesheet" id="jquery-mCustomScrollbar-css" href="~/Content/css/jquery.mCustomScrollbar.css" type="text/css" media="all">
    <link rel="stylesheet" id="electro-style-css" href="~/Content/css/style.min(1).css" type="text/css" media="all">
    <link rel="stylesheet" id="electro-style-v2-css" href="~/Content/css/v2.min.css" type="text/css" media="all">
    <link rel="stylesheet" id="electro-color-css" href="~/Content/css/yellow.min.css" type="text/css" media="all">

    <link rel="stylesheet" href="~/Content/css/theme.css">
    <link rel="stylesheet" href="~/Content/css/toastr.css">
    <link rel="stylesheet" href="~/Content/assets/vendor/hs-megamenu/src/hs.megamenu.css">

    <script type="text/javascript" src="~/Content/js/jquery.js"></script>

    <script type="text/javascript" src="~/Content/js/jquery-migrate.min.js"></script>
    @if (pageName == "index" || pageName == "indexblue" || pageName == "indexpurple")
    {
        <script type="text/javascript" src="~/Content/js/jquery.themepunch.tools.min.js"></script>
        <script type="text/javascript" src="~/Content/js/jquery.themepunch.revolution.min.js"></script>

    }

    <script type="text/javascript" src="~/Content/js/jquery.blockUI.min.js"></script>
    <script type="text/javascript">/* <![CDATA[ */ var wc_add_to_cart_params = { "ajax_url": "", "wc_ajax_url": "", "i18n_view_cart": "View your basket", "cart_url": "/Leasing/ViewCart", "is_cart": "", "cart_redirect_after_add": "no" }; /* ]]> */</script>
    <script type="text/javascript" src="~/Content/js/add-to-cart.min.js"></script>
    <script type="text/javascript" src="~/Content/js/woocommerce-add-to-cart.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i&display=swap" rel="stylesheet">
    <style>
        .woocommerce-product-gallery {
            opacity: 1 !important;
        }

        .desktop-footer .footer-newsletter .newsletter-content {
            flex: 0 0 52.333333%;
            max-width: 52.333333%;
        }

        .u-sidebar {
            z-index: 11001;
        }
    </style>

    <noscript>
    </noscript>
    <script type="text/javascript">

        function setREVStartSize(e) {
            try {
                e.c = jQuery(e.c); var i = jQuery(window).width(), t = 9999, r = 0, n = 0, l = 0, f = 0, s = 0, h = 0;
                if (e.responsiveLevels && (jQuery.each(e.responsiveLevels, function (e, f) { f > i && (t = r = f, l = e), i > f && f > r && (r = f, n = e) }), t > r && (l = n)), f = e.gridheight[l] || e.gridheight[0] || e.gridheight, s = e.gridwidth[l] || e.gridwidth[0] || e.gridwidth, h = i / s, h = h > 1 ? 1 : h, f = Math.round(h * f), "fullscreen" == e.sliderLayout) { var u = (e.c.width(), jQuery(window).height()); if (void 0 != e.fullScreenOffsetContainer) { var c = e.fullScreenOffsetContainer.split(","); if (c) jQuery.each(c, function (e, i) { u = jQuery(i).length > 0 ? u - jQuery(i).outerHeight(!0) : u }), e.fullScreenOffset.split("%").length > 1 && void 0 != e.fullScreenOffset && e.fullScreenOffset.length > 0 ? u -= jQuery(window).height() * parseInt(e.fullScreenOffset, 0) / 100 : void 0 != e.fullScreenOffset && e.fullScreenOffset.length > 0 && (u -= parseInt(e.fullScreenOffset, 0)) } f = u } else void 0 != e.minHeight && f < e.minHeight && (f = e.minHeight); e.c.closest(".rev_slider_wrapper").css({ height: f })
            } catch (d) { console.log("Failure at Presize of Slider:" + d) }
        };
    </script>
    <style type="text/css" id="wp-custom-css">
        .handheld-footer .handheld-footer-bar .footer-logo svg path {
            fill: #FFF;
        }

        .handheld-footer .handheld-footer-bar .handheld-footer-bar-inner {
            flex-direction: row;
        }
    </style>
    <noscript>
        <style type="text/css">
            .wpb_animate_when_almost_visible {
                opacity: 1;
            }
        </style>
    </noscript>
    <noscript>
        <style id="rocket-lazyload-nojs-css">
            .rll-youtube-player, [data-lazy-src] {
                display: none !important;
            }
        </style>
    </noscript>
    <script src="~/Content/js/jquery.mousewheel.min.js"></script>



    <link rel="stylesheet" href="~/Content/css/custom.css?v=1.0.23" media="screen" />
    <link rel="stylesheet" type="text/css" href="~/Content/css/iecustom.css?v=1.0.0" />
    <style>
        .u-header .vertical-menu .u-header__nav-item {
            width: 100%;
            max-width: 100%;
            height: auto;
            line-height: 2.53em;
        }

        @@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
            /* IE10+ specific styles go here */
            .navbar-search .search-categories > select {
                padding: 0 0.75em;
            }

            .navbar-search > .input-group .input-search-field .product-search-field.form-control, .navbar-search > .input-group .input-search-field table.cart .coupon .product-search-field.input-text, table.cart .coupon .navbar-search > .input-group .input-search-field .product-search-field.input-text {
                padding: 0.2em 0.75em !important;
            }

            .input-group-addon {
                padding: .375rem 0.3rem .375rem
            }

            .da-media {
                flex: 0 0 100%;
            }

            .slider-with-da-block .da-block {
                height: 350px;
            }

            .navbar-expand-xl .navbar-collapse {
                display: block !important;
            }

            .vertical-menu .navbar-expand-xl .u-header__navbar-nav {
                justify-content: flex-start;
                align-items: flex-start;
                -ms-flex-align: start;
            }

            #navBar1 ul {
                width: 100%;
                max-width: 100%;
            }

            .u-header .vertical-menu .u-header__nav-item {
                width: 245px;
                max-width: 100%;
                height: auto;
                line-height: 2.53em;
                display: flex;
                flex: 0 0 auto;
                flex-direction: row;
                justify-content: space-between;
                align-items: flex-start;
            }

            .vertical-menu .navbar-expand-xl .u-header__navbar-nav .u-header__nav-link1 {
                padding: 0.2em;
                width: 95%;
            }

            .vertical-menu .navbar-expand-xl .u-header__navbar-nav .u-header__nav-link {
                width: 245px;
                max-width: 100%;
                flex: 0 0 auto;
            }

            .input-group > .form-control {
                flex: 0 0 50%;
                display: inline-flex;
            }

            .input-group-btn {
                flex: 0 0 10%;
                display: inline-flex;
            }

            input-search-field {
                flex: 0 0 60%;
            }

            .owl-item > .product .product-outer, .section-onsale-product .onsale-product .product-outer, .section-onsale-product-carousel .onsale-product-carousel .onsale-product-content .product-outer, li.product .product-outer {
                overflow: hidden;
                height: auto;
            }

            .header-v1 .navbar-nav .nav-link, .header-v3 .navbar-nav .nav-link, .header-v5 .navbar-nav .nav-link, .header-v8 .navbar-nav .nav-link {
                line-height: 2.53em;
            }

            .hs-mega-menu .nav-link {
                line-height: 1.53em !important;
            }

            .mainprice .price {
                width: 32%;
            }

            .products > .product:hover .product-inner {
                min-height: auto;
            }

            ul[data-view=list-view-small].products.columns-1 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-2 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-3 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-4 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-5 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-6 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-7 > li.product .product-inner .product-loop-body, ul[data-view=list-view-small].products.columns-8 > li.product .product-inner .product-loop-body {
                flex: 0 0 55.33%;
                max-width: 55.33%;
            }

            ul[data-view=list-view-small].products.columns-1 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-2 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-3 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-4 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-5 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-6 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-7 > li.product .product-inner .product-loop-footer, ul[data-view=list-view-small].products.columns-8 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-1 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-2 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-3 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-4 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-5 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-6 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-7 > li.product .product-inner .product-loop-footer, ul[data-view=list-view].products.columns-8 > li.product .product-inner .product-loop-footer {
                flex: 0 0 28%;
                max-width: 28%;
                padding-left: 0px;
                padding-right: 0px;
            }

            ul[data-view=list-view-small].products.columns-1 > li.product .product-inner, ul[data-view=list-view-small].products.columns-2 > li.product .product-inner, ul[data-view=list-view-small].products.columns-3 > li.product .product-inner, ul[data-view=list-view-small].products.columns-4 > li.product .product-inner, ul[data-view=list-view-small].products.columns-5 > li.product .product-inner, ul[data-view=list-view-small].products.columns-6 > li.product .product-inner, ul[data-view=list-view-small].products.columns-7 > li.product .product-inner, ul[data-view=list-view-small].products.columns-8 > li.product .product-inner, ul[data-view=list-view].products.columns-1 > li.product .product-inner, ul[data-view=list-view].products.columns-2 > li.product .product-inner, ul[data-view=list-view].products.columns-3 > li.product .product-inner, ul[data-view=list-view].products.columns-4 > li.product .product-inner, ul[data-view=list-view].products.columns-5 > li.product .product-inner, ul[data-view=list-view].products.columns-6 > li.product .product-inner, ul[data-view=list-view].products.columns-7 > li.product .product-inner, ul[data-view=list-view].products.columns-8 > li.product .product-inner {
                padding: 30px 5px;
            }
        }

        .secondary-nav > .menu-item a {
            color: #fff;
        }

        .slider-with-da-block {
            margin-top: 0px;
            margin-bottom: 0px;
        }

        #basicsAccordion .card-header {
            background: #c005ff;
        }

        .text-white-90 {
            color: #fff;
        }

        #basicsAccordion .btn-remove-bg-hover:hover, #basicsAccordion .btn-remove-bg-hover:focus {
            background-color: #c005ff !important;
        }

        .navbar-search button:hover {
            background-color: #c005ff;
            !important;
            border-color: #c005ff;
            !important;
        }

        .footer-logo img {
            width: auto;
            height: 100px;
        }

        .footer-bottom-widgets {
            background-color: #360874;
        }

            .footer-bottom-widgets ul > li > a:focus, .footer-bottom-widgets ul > li > a:hover {
                color: #fff;
            }

            .footer-bottom-widgets ul > li > a {
                color: #fff;
            }

            .footer-bottom-widgets .body, .footer-bottom-widgets .media-body, .footer-address address, .footer-address .footer-address-title, .copyright, .footer-social-icons .social-icons a {
                color: #fff;
            }

        .copyright-bar {
            background: #c005ff;
        }

        .btnloginregister {
            background: #ffed28;
            color: #000 !important;
        }

            .btnloginregister:hover {
                background: #520fad;
                color: #fff !important;
            }

        .products > .product:hover {
            z-index: 1;
        }

            .owl-item > .product.hover .product-inner, .owl-item > .product:hover .product-inner, .products > .product.hover .product-inner, .products > .product:hover .product-inner {
                position: relative;
            }

        .product-remove {
            width: 25px;
            text-align: right;
        }

        table.cart .product-remove a {
            font-size: 1rem;
        }

        .cartbtn .actions .checkout-button {
            color: #fff;
            background-color: #360874;
            border-color: #360874;
        }

        .terminvalid-feedback {
            display: block;
            margin-left: 10px;
        }

        #addtocart-modal .modal-dialog {
            width: 60%;
        }

        .warranty .box-shadow-1 {
            padding: 5px 15px;
        }

        .warranty .btn-link {
            cursor: pointer;
            padding: 0px 5px 5px;
            text-decoration: underline;
        }

        .warranty .wtitle {
            width: 85%;
            text-overflow: ellipsis;
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            height: auto;
            padding-top: 3px;
        }

        .warranty .wtype {
            background: transparent;
            display: inline;
            vertical-align: top;
        }

        .installtext {
            font-size: 12px;
            color: #4d4c4c;
            margin-bottom: 0px;
            display: block;
            text-align: center;
        }

        select[readonly] {
            background: #eee;
            pointer-events: none;
            touch-action: none;
        }

        .close.active .ec-close-remove:before {
            color: #333;
        }

        .add_to_wishlist {
            display: none;
        }

        @@media (max-width: 1024px) {
            .products-carousel12 .owl-nav {
                display: block;
            }

            .smallscreen.container {
                max-width: 100%;
            }

            .social-icons-color .fa-instagram {
                color: #4d4c4c;
            }

            .handheld-footer .handheld-footer-bar {
                background-color: #360874;
            }

            .laberUserInfo .laber-user-info {
                transform: translateX(-50%);
            }
        }

        @@media(max-width:1024px) {
            #leaseterm-dialog .modal-lg {
                max-width: 93% !important;
                width: 93% !important;
            }

            .u-sidebar__head {
                padding-bottom: 30px;
            }

            .topclsbtn {
                padding: 10px 20px 0 0px !important
            }

            #addtocart-modal .modal-dialog, #addedtocart-modal .modal-lg {
                width: 100% !important;
            }

            .se-pre-con {
                top: 30px;
            }

            .se-pre-con3 {
                top: 30px;
            }

            .se-pre-con2 {
                top: 30px;
            }

            .deskview {
                display: none;
            }
        }

        .footer-bottom-widgets a, .copyright-bar a {
            color: #fff;
        }

        .footer-bottom-widgets a {
            font-size: 1em;
        }

        .footer-bottom-widgets-menu-inner > .columns {
            min-width: 100px;
        }

        .desktop-footer .footer-bottom-widgets .footer-contact {
            display: flex;
        }

        .footer-logo, .footer-call-us {
            width: 50%;
        }

            .footer-logo img {
                width: auto;
                height: 50px;
            }
            
            .footer-social-icons {
                margin-bottom: 0px;
            }

        .footer-bottom-widgets {
            padding: 4.28em 0 1em 0;
        }

        .trendingli li {
            display: inline-block;
            padding-right: 5px;
        }

            .trendingli li a::after {
                content: " ";
                border-right: 1px solid #fff;
            }

        .modal-sm {
            width: 350px;
        }

        .sponsor {
            color: #827f7f;
        }

        #addedtocart-modal .modal-lg {
            width: 90% !important;
        }

        .hs-menu-initialized.hs-menu-horizontal .hs-mega-menu.hs-position-left {
            overflow-y: scroll;
            scrollbar-width: thin;
        }

        #navBar1 ul {
            scrollbar-width: thin;
        }

        .u-header .vertical-menu .u-header__nav-item.hs-mega-menu-opened .u-header__sub-menu {
            left: calc(100% - 26px);
        }

        .u-header-sidebar__content {
            padding: 0.5em 2em 0em;
        }

        @@media (min-width: 1200px) {
            .vmm-tfw {
                width: 20.49988rem;
            }

            .vertical-menu .navbar-expand-xl .u-header__navbar-nav .u-header__mega-menu-wrapper {
                padding-top: 0.24962rem;
                padding-bottom: 2.24962rem;
            }

            .navbar-expand-xl .u-header__mega-menu-wrapper {
                padding: 0.5rem;
                margin-left: 0;
                margin-right: 0;
            }
        }

        /* width */

        ::-webkit-scrollbar {
            width: 10px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #888;
        }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
                background: #555;
            }

        .pagination {
            border-top: 0px;
            padding-top: 0px;
            margin-top: 0px;
        }

            .pagination ul.page-numbers > li a.current, .pagination ul.page-numbers > li span.current, .woocommerce-pagination ul.page-numbers > li a.current, .woocommerce-pagination ul.page-numbers > li span.current {
                color: #fff;
            }

        @@media (min-width: 1200px) {
            .owl-item > .product .price, .products > .product .price {
                font-size: 1em;
                line-height: 1.1em;
            }

            .pm {
                font-size: 10px;
            }

            .u-header__navbar-brand, .u-header__navbar-brand > img {
                width: 6.375rem;
            }

            .shop-control-bar .page-title {
                padding-right: 134px;
            }
        }

        .hidemore {
            display: none;
        }

        .rangeamount {
            width: 100%;
            padding: 5px;
            border: 1px solid #dcdcdc;
            border-radius: 0;
        }

        #addedtocart-modal .btn-primary {
            color: #fff!important;
            background-color: #360874;
            border-color: #360874;
        }

        #addedtocart-modal .cartbtn .button {
            padding: 0.5rem 1.7rem !important;
            font-size: 0.875rem;
            line-height: 1.7;
        }

        .brandlogo {
            width: auto !important;
            height: 20px !important;
            margin-top: 2px !important;
        }

        .owl-item > .product .product-thumbnail > img {
            max-height: 90%;
        }

        .offer .products-carousel {
            padding-left: 10px !important;
        }

        @@media(min-width:1100px) {
            .d-block {
                display: none !important;
            }
        }
        .desktop-footer .footer-bottom-widgets .footer-contact {
            flex: 0 0 21.6666666667%;
            max-width: 21.6666666667%;
        }
        @@media(min-width:1400px){
            .owl-carousel.products-carousel12 .owl-item{
                padding:0 5px!important;
            }
        }
        .container{
            padding-right:0px;
        }
        #masthead .electro-navigation-v5 .container {
            padding-left: 5px;
        }
        .mss .dropdown-menu > li > a:focus, .mss .dropdown-menu > li > a:hover, .mss .dropdown-menu>li.active> a {
            background-color: #f8f9fa;
        }
        @@media(min-width:1799px){
            .masthead .header-icons {
                flex: 0 0 29%;
                width: auto;
                max-width: 28.5%;
            }
            .cart-items-total-price.total-price{
                width:75%;
            }
            .header-icon {
                translate: 50px 0 0;
            }
        }
    </style>
    <!--[if IE]>
    <style>
        .navbar-search .search-categories > select{
    padding:0 0.75em 0.75em;
        }
    </style>
    <![endif]-->
    <!--[if IE]>
            <style>
    }
            </style>

        <![endif]-->

    @RenderSection("head", required: false)

</head>
<body ng-app="MyApp" class="@classes">
    <div id="login-dialog" ng-controller="LoginModalController">
        <div class="modal" role="dialog" style="z-index: 1111116!important;">
            <div class="modal-dialog modal-sm">
                <div class="modal-content">
                    <div class="modal-header align-items-lg-center text-center">
                        <div style="display:block;width:100%">
                            <h2 class="h4 mb-0" style="color:#333;" ng-hide="showforget">Welcome Back!</h2>
                            <h2 class="h4 mb-0" style="color:#333;" ng-show="showforget">Recover Password.</h2>
                            <br />
                        </div>
                        <button type="button" style="" class="close mdclose" data-dismiss="modal" ng-click="showforget=false;">×</button>
                    </div>
                    <div class="modal-body">
                        <form name="loginfield" ng-hide="showforget" ng-submit="InsideLogin()" class="js-validate">
                            <!-- Login -->
                            <div id="login" data-target-group="idForm">
                                <!-- Form Group -->
                                <div class="form-group" ng-show="showmsg!=''&&showmsg!=null">
                                    <div class="alert alert-success" ng-bind-html="showmsg"></div>
                                </div>
                                <div class="form-group" ng-show="IsError">
                                    <div class="alert alert-warning">{{invalidlogin}}</div>
                                </div>

                                <div class="form-group">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="signinEmail">Email</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="signinEmailLabel">
                                                    <span class="fas fa-user"></span>
                                                </span>
                                            </div>
                                            <input type="email" ng-model="MenuLoginData.museridemail" name="museridemail" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrEmailExample3" placeholder="Email address" aria-label="Email address"
                                                   data-msg="Please enter a valid email address."
                                                   data-error-class="u-has-error"
                                                   data-success-class="u-has-success">
                                            <span class="loginerror" ng-show="(loginfield.museridemail.$dirty || MSubmitted) && loginfield.museridemail.$error.required">Username required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Form Group -->
                                <!-- Form Group -->
                                <div class="form-group">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="signinPassword">Password</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="signinPasswordLabel">
                                                    <span class="fas fa-lock"></span>
                                                </span>
                                            </div>
                                            <input type="password" ng-model="MenuLoginData.mpwd" name="mpwd" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrPasswordExample2" placeholder="********" aria-label="********"
                                                   data-msg="Your password is invalid. Please try again."
                                                   data-error-class="u-has-error"
                                                   data-success-class="u-has-success">
                                            <span class="loginerror" ng-show="(loginfield.mpwd.$dirty || MSubmitted) && loginfield.mpwd.$error.required">Password required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Form Group -->

                                <div class="d-flex justify-content-end mb-4">
                                    <a class="js-animation-link small link-muted" href="javascript:;"
                                       data-target="#forgotPassword"
                                       data-link-group="idForm"
                                       data-animation-in="slideInUp" ng-click="showforget=true;">Forgot Password?</a>
                                </div>
                                <div class="mb-2">
                                    <!--<div class="g-recaptcha" id="gcapres" style="display:inline-block;text-align:center;"></div>
                                    <textarea name="Captcha_ResponseModal" style="display:none;"></textarea>-->
                                    <button type="submit" ng-disabled="MSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Login</button>
                                </div>

                                <div class="mb-2 border-top-gray-1 text-center" style="border-top:1px solid;">
                                    <span style="text-align:center;">New customer! Start here.</span>
                                    <a href="/Leasing/Registration" class="btn btn-block btn-sm  btnloginregister transition-3d-hover">
                                        Register
                                    </a>

                                </div>


                                <!-- End Login Buttons -->
                            </div>
                        </form>
                        <form name="forgetpwd" ng-show="showforget" ng-submit="forgetPassword()">

                            <!-- Forgot Password -->
                            <div id="forgotPassword" data-target-group="idForm">
                                <!-- Title -->
                                <header class="text-center mb-7">

                                    <p>
                                        Enter the email address associated with your EYS account.
                                    </p>
                                </header>
                                <!-- End Title -->
                                <!-- Form Group -->
                                <div class="form-group" ng-show="IsFError">
                                    <div class="alert alert-warning">{{invalidFlogin}}</div>
                                </div>
                                <div class="form-group">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="recoverEmail">Your email</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="recoverEmailLabel">
                                                    <span class="fas fa-user"></span>
                                                </span>
                                            </div>
                                            <input type="email" class="form-control" name="recoveremail" ng-model="recoverEmail" id="recoverEmail" placeholder="Your email" aria-label="Your email" aria-describedby="recoverEmailLabel" required
                                                   data-msg="Please enter a valid email address."
                                                   data-error-class="u-has-error"
                                                   data-success-class="u-has-success">
                                            <span class="loginerror" ng-show="(forgetpwd.recoveremail.$dirty || FSubmitted) && forgetpwd.recoveremail.$error.required">Username required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Form Group -->

                                <div class="mb-2">
                                    <button type="submit" ng-disabled="FSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Recover Password</button>
                                </div>

                                <div class="text-center mb-4">
                                    <span class="small text-dark">Remember your password?</span>
                                    <a class="js-animation-link small" href="javascript:;"
                                       data-target="#login"
                                       data-link-group="idForm"
                                       data-animation-in="slideInUp" ng-click="showforget=false;" style="color:#333!important;">
                                        Login
                                    </a>
                                </div>
                            </div>
                            <!-- End Forgot Password -->
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div id="addtocart-dialog" ng-controller="AddToCartModalController">
        <div class="modal fade" id="printquoteModal" role="dialog" style="z-index: 1111115!important;">
            <div class="modal-dialog modal-lg">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">

                        <button type="button" class="close mdclose" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">

                    </div>
                    <div class="modal-footer">
                        <a class="btn btn-primary-dark exportpdfnew" style="cursor:pointer">Print</a>
                        <a class="btn btn-danger downloadpdfnew" style="cursor:pointer">Download PDF</a>

                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="warrantydetailmodal" class="modal fade" style="z-index: 1111114!important;">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header" style="padding:7px 15px;">
                        <button type="button" class="close mdclose" data-dismiss="modal">×</button>
                        <h4 style="color:#333">Product Warranty Details</h4>
                    </div>
                    <div class="modal-body">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade confirmation-dialog" id="addedtocart-modal" role="dialog" style="z-index: 1111113!important;">
            <div class="modal-dialog modal-lg" style="padding-top:0px;">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close mdclose" data-dismiss="modal">×</button>
                    </div>
                    <div class="modal-body">
                        <div class="se-pre-con" ng-show="loader2" style="z-index:100">

                        </div>
                        <div class="row mr-0 ml-0">
                            <div class="col-lg-12 cartbtn">

                                <a href="@Url.Action("ViewCart","Leasing")" class="button pull-right">
                                    View Cart <i class="fa fa-arrow-right"></i>
                                </a>
                                <a class="btn btn-primary pull-right mr-2" data-dismiss="modal">
                                    Continue Shopping
                                </a>


                            </div>
                        </div>
                        <div class="row mr-0 ml-0">
                            <div class="col-lg-12">
                                <span class="font-size-20">
                                    <i class="fa fa-check"></i>This item has been added to your basket
                                </span>
                                <ul data-view="list-view-small" data-toggle="shop-products" class="products columns-5 columns__wide--5 sameproduct">

                                    <li ng-cloak class="post-2706 product type-product status-publish has-post-thumbnail product_cat-tablets first instock shipping-taxable purchasable product-type-simple  border box-shadow-1">
                                        <div class="product-outer product-item__outer">
                                            <div class="product-inner product-item__inner">
                                                <div class="product-loop-header product-item__header">

                                                    <a href="/Leasing/ProductDetail?{{leaseTerms.Products.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                        <h2 ng-cloak class="woocommerce-loop-product__title">{{leaseTerms.Products.mprodname}}</h2>
                                                        <div class="product-thumbnail product-item__thumbnail">
                                                            <img width="300" height="300" ng-src="/LeaseAdmin/Content/images/product/{{leaseTerms.Products.msubpicname || 'leasenoimage.png'}}" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt="" style="width:auto;height:100px;">
                                                        </div>
                                                    </a>

                                                </div>
                                                <div class="product-loop-body product-item__body">
                                                    <div class="col-xs-12">
                                                        <!--<span class="loop-product-categories"><a href="/Leasing/ProductDetail?{{product.mproducturl}}" rel="tag">{{product.mprodcatname}}</a></span>-->
                                                        
                                                        <a href="/Leasing/ProductDetail?{{leaseTerms.Products.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                            <h2 class="woocommerce-loop-product__title">{{leaseTerms.Products.mqty}} X {{leaseTerms.Products.mprodname}}</h2>

                                                        </a>
                                                    </div>
                                                    <div ng-if="!leaseTerms.Products.warrantyexist" class="col-xs-12 font-size-17">
                                                        <span class="woocommerce-Price-currencySymbol font-size-17">£</span>{{leaseTerms.Products.mprice*leaseTerms.Products.mqty | number:2}} <span class="pm"><span class="pmper ng-binding">  {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span> <span class="font-size-17"> for {{leaseTerms.Products.mtermp/12}} years</span>
                                                    </div>
                                                    <div ng-if="leaseTerms.Products.warrantyexist" class="col-xs-12 font-size-17">
                                                        <span class="woocommerce-Price-currencySymbol font-size-17">£</span>{{ Total(leaseTerms.Products) }} <span class="pm"><span class="pmper ng-binding">  {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span> <span class="font-size-17"> for {{leaseTerms.Products.mtermp/12}} years</span>
                                                    </div>
                                                    <div class="col-xs-12" ng-if="leaseTerms.Products.warrantyexist">
                                                        <h2 style="border-top: 1px solid #b3b3b3; padding-top: 10px;margin-top: 10px;" class="woocommerce-loop-product__title">Warranty : {{leaseTerms.Products.mqty}} X {{leaseTerms.Products.wcart.mprodname}}</h2>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        @*<div ng-if="leaseTerms.Products.warrantyexist" class="product-outer product-item__outer">
                                                <div class="product-inner product-item__inner">
                                                    <div class="product-loop-header product-item__header">

                                                        <a href="javascript:;" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                            <div class="product-thumbnail product-item__thumbnail">
                                                                <img width="300" height="300" ng-src="/LeaseAdmin/Content/images/product/warranty.png" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt="" style="width:auto;height:100px;">
                                                            </div>
                                                        </a>

                                                    </div>
                                                    <div class="product-loop-body product-item__body">
                                                        <div class="col-xs-12">
                                                            <h2 class="woocommerce-loop-product__title">{{leaseTerms.Products.mqty}} X {{leaseTerms.Products.wcart.mprodname}}</h2>
                                                        </div>
                                                        <div class="col-xs-12 font-size-17">

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>*@
                                    </li>

                                </ul>

                            </div>
                        </div>

                        <div class="row mr-0 ml-0 mt-3 warranty">
                            <div class="deal-products" style="min-height:300px;" ng-show="addontabloading">
                                <div id="tabloading" class="se-pre-con2" style="left: 18%;top: 0px;width: 98%;height: 98%;z-index:111;position:absolute;background-color:transparent;">
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="col-lg-12 pl-0">
                                    <h3 style="margin-bottom:5px;"><span>Customers who viewed this item also viewed</span></h3>

                                </div>
                                <div class="col-lg-12">
                                    <div class="deal-products" style="max-width:100%;flex:0 0 100%">
                                        <section class="section-products-carousel">
                                            <div id="products-carousel-5de0dc90b21d9" data-replace-active-class="true" data-carousel-selector=".products-carousel">
                                                <div class="woocommerce columns-5 ">


                                                    <data-owl-carousel id="addonowl" data-view="grid" data-toggle="regular-products" class="products owl-carousel products-carousel columns-5 columns__wide--5" data-options="owlOptionsTestimonials">
                                                        <div owl-carousel-item="" ng-cloak ng-repeat="product in Related" class="post-2440 product type-product status-publish has-post-thumbnail product_cat-headphone-cases first instock shipping-taxable purchasable product-type-simple">
                                                            <div class="product-outer product-item__outer">
                                                                <div class="product-inner product-item__inner">
                                                                    <div class="product-loop-header product-item__header">
                                                                        <a href="/Leasing/ProductDetail?{{product.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                                            <h2 ng-cloak class="woocommerce-loop-product__title">{{product.mprodname}}</h2>
                                                                            <div class="product-thumbnail product-item__thumbnail">
                                                                                <img width="300" height="300" ng-src="/LeaseAdmin/Content/images/product/{{product.msubpicname || 'leasenoimage.png'}}" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt="">
                                                                            </div>
                                                                            <!--<div class="product-rating ng-hide">
                                                                                <div class="star-rating"><span style="width:80%">Rated <strong class="rating">">4.00f </strong>"> out of 5</span></div>

                                                                                (3)
                                                                            </div>-->
                                                                        </a>
                                                                    </div>
                                                                    <div class="product-loop-body product-item__body">
                                                                        <div class="col-xs-12">
                                                                            <!--<span class="loop-product-categories"><a href="/Leasing/ProductDetail?{{product.mproducturl}}" rel="tag">{{product.mprodcatname}}</a></span>-->
                                                                            <a href="/Leasing/ProductDetail?{{product.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                                                <h2 class="woocommerce-loop-product__title">{{product.mprodname}}</h2>

                                                                                <div class="product-short-description" ng-show="product.msuppliername!=null">
                                                                                    Manufacturer: {{product.msuppliername}}
                                                                                    <span class="est" style="font-size: 0.875em;color:#7d7d7d;" ng-if="product.msuppliername!=null && product.mleadtime>0">Estimated Delivery: {{product.mleadtime}} days</span>
                                                                                </div>
                                                                                <div class="product-sku"></div>
                                                                            </a>
                                                                        </div>

                                                                    </div>
                                                                    <div class="product-loop-footer product-item__footer">
                                                                        <div class="term-add-to-cart" style="display:block;width:100%;">
                                                                            <div class="col-xs-12">
                                                                                <!--<label>Unit Rental <span class="excVAT">(exc. VAT)</span></label>-->

                                                                            </div>

                                                                            <div class="col-xl-6 col-xs-6 term-freq">
                                                                                <label>Frequency</label>
                                                                                <!--<select ng-options="size as size.name for size in sizes" ng-model="itemss" ng-change="update2(itemss)"></select>-->

                                                                                <select ng-init="termdata = sizes[0]" ng-options="size as size.name for size in sizes track by size.code" class="form-control termselect termf{{product.mprodvarid}}" ng-model="termdata" ng-change="updateterm(termdata,product,termperiod)"></select>

                                                                            </div>
                                                                            <div class="col-xl-6 col-xs-6 term-period">
                                                                                <label>Period</label>
                                                                                <!--<select ng-options="size as size.name for size in sizes" ng-model="itemss" ng-change="update2(itemss)"></select>-->

                                                                                <select ng-init="termperiod = periods[0]" ng-options="period as period.name for period in periods track by period.code" class="form-control termselect termp{{product.mprodvarid}}" ng-model="termperiod" ng-change="updateterm(termdata,product,termperiod)"></select>

                                                                            </div>

                                                                        </div>
                                                                        <div class="price-add-to-cart mainprice dpriceblock" style="margin-bottom:0px;">
                                                                            <span class="price" style="">
                                                                                <span class="electro-price" ng-init="noOfItem[$index]=1">
                                                                                    <span class="quantity">
                                                                                        <input type="number" id="quantity_5e0706480ca03" ng-model="noOfItem[$index]" class="input-text qty text" step="1" min="1" max="500" name="cart[8e68c3c7bf14ad0bcaba52babfa470bd][qty]" value="{{noOfItem[$index]}}" title="Qty" size="4" inputmode="numeric" aria-labelledby="" style=""><br />
                                                                                        <span class="pm">Qty</span>
                                                                                        <!--<button class="button" type="button" ng-click="UpdateCart(item.Product,noOfItem[$index])" ng-disabled="noOfItem[$index]==undefined" style="padding:0px;width:1em;background:transparent;color:#000000"><i class="fa fa-refresh"></i></button>-->
                                                                                    </span>

                                                                                </span>
                                                                            </span>
                                                                            <span class="price">
                                                                                <span class="electro-price">
                                                                                    <span ng-cloak class="woocommerce-Price-amount amount"><span class="woocommerce-Price-currencySymbol">£</span>{{product.mprice*noOfItem[$index] | number:2 }}</span><br /><span class="pm"><span class="pmVAT">+VAT </span><span class="pmper">{{ getNewTerms(product.mtermf,product.mtermp) }}</span></span>

                                                                                </span>
                                                                            </span>
                                                                            <div class="add-to-cart-wrap" data-toggle="tooltip" data-title="Add to Your Basket" data-original-title="Add to Your Basket" title="">
                                                                                <a href="" class="btn btn-brand rounded-circle pull-right prnbtn prnbtn1" title="Print Quotations" style="margin-left:3px;background-color:#4c4a4a;" ng-click="PrintSingleItem(product,noOfItem[$index])"><i class="fa fa-print" style="display:block;"></i> <span class="quotehead" style="font-size:10px;">Quote</span></a>
                                                                                <a href="" data-quantity="1" class="button product_type_simple add_to_cart_button ajax_add_to_cart" title="Add to Your Basket" data-product_id="2706" data-product_sku="5487FB8/35" aria-label="Add to Your Basket" data-original-title="Add to Your Basket" rel="nofollow" ng-click="AddTocart($event,product,noOfItem[$index])"> Add to Basket</a>

                                                                            </div>
                                                                        </div>


                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- /.product-outer -->
                                                        </div>


                                                    </data-owl-carousel>

                                                </div>
                                            </div>
                                        </section>
                                    </div>
                                </div>
                                <!--ng-class="classcnt==1?'col-lg-12':classcnt==2?'col-lg-6':classcnt==3?'col-lg-4':'col-lg-12'"-->

                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>
        <div class="modal fade confirmation-dialog" id="addtocart-modal" role="dialog" style="z-index: 1111112!important;">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close mdclose" data-dismiss="modal">×</button>
                    </div>
                    <div class="modal-body">
                        <div class="se-pre-con" ng-show="loader2" style="z-index:100">

                        </div>
                        <div class="row mr-0 ml-0">
                            <div class="col-lg-12">
                                <!--<span class="font-size-20"><i class="fa fa-check"></i> This item has been added to basket</span>-->
                                <ul data-view="list-view-small" data-toggle="shop-products" class="products columns-5 columns__wide--5 sameproduct">

                                    <li ng-cloak class="post-2706 product type-product status-publish has-post-thumbnail product_cat-tablets first instock shipping-taxable purchasable product-type-simple  border box-shadow-1" style="margin-top:10px;">
                                        <div class="product-outer product-item__outer">
                                            <div class="product-inner product-item__inner">
                                                <div class="product-loop-header product-item__header">

                                                    <a href="/Leasing/ProductDetail?{{leaseTerms.Products.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                        <h2 ng-cloak class="woocommerce-loop-product__title">{{leaseTerms.Products.mprodname}}</h2>
                                                        <div class="product-thumbnail product-item__thumbnail">
                                                            <img width="300" height="300" ng-src="/LeaseAdmin/Content/images/product/{{leaseTerms.Products.msubpicname || 'leasenoimage.png'}}" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt="" style="width:auto;height:100px;">
                                                        </div>
                                                    </a>

                                                </div>
                                                <div class="product-loop-body product-item__body">
                                                    <div class="col-xs-12">
                                                        <!--<span class="loop-product-categories"><a href="/Leasing/ProductDetail?{{product.mproducturl}}" rel="tag">{{product.mprodcatname}}</a></span>-->
                                                        
                                                        <a href="/Leasing/ProductDetail?{{leaseTerms.Products.mproducturl}}" class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                            <h2 class="woocommerce-loop-product__title">{{leaseTerms.Products.mqty}} X {{leaseTerms.Products.mprodname}}</h2>

                                                        </a>
                                                    </div>
                                                    <div class="col-xs-12 font-size-17">
                                                        <span class="woocommerce-Price-currencySymbol font-size-17">£</span>{{leaseTerms.Products.mprice*leaseTerms.Products.mqty | number:2}} <span class="pm"><span class="pmper ng-binding">  {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span> <span class="font-size-17"> for {{leaseTerms.Products.mtermp/12}} years</span>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </li>

                                </ul>

                            </div>
                        </div>

                        <div class="row mr-0 ml-0 mt-3 warranty">
                            <div class="col-lg-12">
                                <div class="col-lg-12 pl-0">
                                    <p style="margin-bottom:5px;">This item comes with <span style="color:#04c;">{{leaseTerms.WarrantyTerm}} year manufacturer's warranty and your selected lease term is for {{(leaseTerms.Products.mtermp/12)}} years</span></p>
                                    <p style="margin-bottom: 10px;color:#333;" class="bold font-weight-bolder font-size-16">
                                        We recommend that you add {{lastWarranty}} years extended warranty with the product<!--to cover {{(leaseTerms.Products.mtermp/12)}} years lease period you have selected.-->
                                    </p>
                                </div>
                                <!--ng-class="classcnt==1?'col-lg-12':classcnt==2?'col-lg-6':classcnt==3?'col-lg-4':'col-lg-12'"-->
                                <div class="border box-shadow-1 col-lg-12 mb-2">
                                    <div class="row deskview" ng-if="msupplierwarrantydata1.length>0 || msupplierwarrantydata2.length>0 || msupplierwarrantydata3.length>0|| msupplierwarrantydata4.length>0 || msupplierwarrantydata5.length>0">
                                        <div class="col-lg-3 pr-0">
                                            <label>Warranty Term</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <label>Warranty Title</label>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0 ">
                                            <label>Warranty Type</label>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0 ">
                                            <label></label>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="msupplierwarrantydata1.length>0" ng-repeat="w in msupplierwarrantydata1 | filter: greaterThan('warrantyterm',leaseTerms.Products.mtermp/12)">
                                        <div class="col-lg-3 pr-0">
                                            <input rdname="{{w.warrantyterm}}" class="form-check-input position-relative" type="radio" name="mwarranty" ng-click="updateWarrantArr(1,w.subwarrantid,w.warrantyterm,lastWarranty)" ng-model="$parent.ExWarranty" value="{{w.subwarrantid}}" ng-checked="w.warrantyterm==(lastWarranty)" style="margin-left:2px;">&nbsp; {{w.warrantyterm }} years&nbsp;&nbsp; <span class="woocommerce-Price-currencySymbol prsymbol">£</span>{{w.warrantyprice}} <span class="pm"><span class="pmper"> {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span>
                                        </div>
                                        <div class="col-lg-5">
                                            <span class="wtitle woocommerce-loop-product__title">{{msupplierwarrantydata1[0].WarrantyTitle}}</span>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0 ">
                                            <span class="wtype">{{msupplierwarrantydata1[0].WType}}</span>

                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0 ">
                                            <a class="btn-link font-size-13 pull-right pt-0" ng-click="showdetail(msupplierwarrantydata1[0].warrantyid)">View Details</a>

                                        </div>
                                    </div>

                                    <div class="row" ng-if="msupplierwarrantydata2.length>0" ng-repeat="w in msupplierwarrantydata2 | filter: greaterThan('warrantyterm',leaseTerms.Products.mtermp/12)">
                                        <div class="col-lg-3 pr-0">
                                            <input rdname="{{w.warrantyterm}}" class="form-check-input position-relative" type="radio" name="mwarranty" ng-click="updateWarrantArr(2,w.subwarrantid,w.warrantyterm,lastWarranty)" ng-model="$parent.ExWarranty" value="{{w.subwarrantid}}" ng-checked="w.warrantyterm==(lastWarranty)" style="margin-left:2px;">&nbsp;{{w.warrantyterm }} years&nbsp;&nbsp; <span class="woocommerce-Price-currencySymbol prsymbol">£</span>{{w.warrantyprice}} <span class="pm"><span class="pmper"> {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span>
                                        </div>
                                        <div class="col-lg-5">
                                            <span class="wtitle woocommerce-loop-product__title">{{msupplierwarrantydata2[0].WarrantyTitle}}</span>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <span class="wtype">{{msupplierwarrantydata2[0].WType}}</span>

                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <a class="btn-link font-size-13 pull-right pt-0" ng-click="showdetail(msupplierwarrantydata2[0].warrantyid)">View Details</a>

                                        </div>

                                    </div>
                                    <div class="row" ng-if="msupplierwarrantydata3.length>0" ng-repeat="w in msupplierwarrantydata3 | filter: greaterThan('warrantyterm',leaseTerms.Products.mtermp/12)">
                                        <div class="col-lg-3 pr-0">
                                            <input rdname="{{w.warrantyterm}}" class="form-check-input position-relative" type="radio" name="mwarranty" ng-click="updateWarrantArr(3,w.subwarrantid,w.warrantyterm,lastWarranty)" ng-model="$parent.ExWarranty" value="{{w.subwarrantid}}" ng-checked="w.warrantyterm==lastWarranty" style="margin-left:2px;">&nbsp; {{w.warrantyterm }} years&nbsp;&nbsp; <span class="woocommerce-Price-currencySymbol prsymbol">£</span>{{w.warrantyprice}} <span class="pm"><span class="pmper"> {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span>
                                        </div>
                                        <div class="col-lg-5">
                                            <span class="wtitle woocommerce-loop-product__title">{{msupplierwarrantydata3[0].WarrantyTitle}}</span>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <span class="wtype">{{msupplierwarrantydata3[0].WType}}</span>

                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <a class="btn-link font-size-13 pull-right pt-0" ng-click="showdetail(msupplierwarrantydata3[0].warrantyid)">View Details</a>

                                        </div>
                                    </div>

                                    <div class="row" ng-if="msupplierwarrantydata4.length>0" ng-repeat="w in msupplierwarrantydata4 | filter: greaterThan('warrantyterm',leaseTerms.Products.mtermp/12)">
                                        <div class="col-lg-3 pr-0">
                                            <input rdname="{{w.warrantyterm}}" class="form-check-input position-relative" type="radio" name="mwarranty" ng-click="updateWarrantArr(4,w.subwarrantid,w.warrantyterm,lastWarranty)" ng-model="$parent.ExWarranty" value="{{w.subwarrantid}}" ng-checked="w.warrantyterm==lastWarranty" style="margin-left:2px;">&nbsp; {{w.warrantyterm }} years &nbsp;<span class="woocommerce-Price-currencySymbol prsymbol">£</span>{{w.warrantyprice}} <span class="pm"><span class="pmper"> {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span>
                                        </div>
                                        <div class="col-lg-5">
                                            <span class="wtitle woocommerce-loop-product__title">{{msupplierwarrantydata4[0].WarrantyTitle}}</span>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <span class="wtype">{{msupplierwarrantydata4[0].WType}}</span>

                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <a class="btn-link font-size-13 pull-right pt-0" ng-click="showdetail(msupplierwarrantydata4[0].warrantyid)">View Details</a>

                                        </div>
                                    </div>
                                    <div class="row" ng-if="msupplierwarrantydata5.length>0" ng-repeat="w in msupplierwarrantydata5 | filter: greaterThan('warrantyterm',leaseTerms.Products.mtermp/12)">
                                        <div class="col-lg-3">
                                            <input rdname="{{w.warrantyterm}}" class="form-check-input position-relative" type="radio" name="mwarranty" ng-click="updateWarrantArr(5,w.subwarrantid,w.warrantyterm,lastWarranty)" ng-model="$parent.ExWarranty" value="{{w.subwarrantid}}" ng-checked="w.warrantyterm==lastWarranty" style="margin-left:2px;">&nbsp; {{w.warrantyterm }} years &nbsp;&nbsp;<span class="woocommerce-Price-currencySymbol prsymbol">£</span>{{w.warrantyprice}} <span class="pm"><span class="pmper"> {{ getNewTerms(leaseTerms.Products.mtermf,leaseTerms.Products.mtermp) }}</span></span>
                                        </div>
                                        <div class="col-lg-5">
                                            <span class="wtitle woocommerce-loop-product__title">{{msupplierwarrantydata5[0].WarrantyTitle}}</span>
                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <span class="wtype">{{msupplierwarrantydata5[0].WType}}</span>

                                        </div>
                                        <div class="col-lg-2 pb-1 pt-1 pl-0 pr-0">
                                            <a class="btn-link font-size-13 pull-right pt-0" ng-click="showdetail(msupplierwarrantydata5[0].warrantyid)">View Details</a>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 mt-3 pl-0" ng-show="showtermwarn">
                                    <p style="margin-bottom:5px;color:rgb(152 5 5)">
                                        Please note that the extended warranty cover selected will not cover the lease term chosen.
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row mr-0 ml-0" style="display:none;">
                            <div class="form-group d-flex align-items-center justify-content-between px-3 mt-5">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" name="terms" value="1" id="defaultCheck10" ng-model="terms" required="" data-msg="Please agree terms and conditions." data-error-class="u-has-error" data-success-class="u-has-success">
                                    <label class="form-check-label form-label" for="defaultCheck10" style="margin-top:3px;">
                                        I have read and agree to <a href="/Leasing/TermsConditions" target="_blank" class="text-blue">terms and conditions </a>

                                        <span class="text-danger">*</span>
                                    </label>
                                    <div class="invalid-feedback terminvalid-feedback" ng-show="termscheckwarn">Please check this</div>
                                </div>
                            </div>
                        </div>
                        <div class="row mr-0 ml-0">
                            <div class="woocommerce pull-left cartbtn mt-0">

                                <div class="wc-proceed-to-checkout actions">

                                    <button ng-click="AddTocart(1)" class="checkout-button button alt">
                                        Continue with warranty
                                    </button>
                                    <button class="button wc-backward" ng-click="AddTocart(0,'yes')">
                                        Continue without extended warranty
                                    </button>

                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>


    </div>
    <div id="feedback-dialog" ng-controller="FeedBackController">
        <div class="modal" id="feedback-modal" role="dialog" style="z-index: 111112!important;">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header align-items-lg-center text-center">
                        <button type="button" style="" class="close mdclose" data-dismiss="modal">×</button>
                    </div>
                    <div class="modal-body">
                        <form name="feedbackfield" ng-submit="feedbackform()" class="js-validate">
                            <!-- Login -->
                            <div id="login" data-target-group="idForm">
                                <!-- Form Group -->
                                <div class="form-group" ng-show="!IsUserLogedIn">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="signinEmail">Name</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="signinEmailLabel">
                                                    <span class="fas fa-user"></span>
                                                </span>
                                            </div>
                                            <input type="text" ng-model="feedbackdata.musername" name="musername" ng-class="MFSubmitted && !IsUserLogedIn?'form-control ng-dirty':'form-control'" required id="" placeholder="Enter Name" aria-label="Enter Name"
                                                   data-msg="Please enter a valid name."
                                                   data-error-class="u-has-error"
                                                   data-success-class="u-has-success">
                                            <span class="loginerror" ng-show="(feedbackfield.musername.$dirty || MFSubmitted) && feedbackfield.musername.$error.required">name required</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="!IsUserLogedIn">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="signinEmail">Email</label>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text" id="signinEmailLabel">
                                                    <span class="fas fa-user"></span>
                                                </span>
                                            </div>
                                            <input type="email" ng-model="feedbackdata.museremail" name="museremail" ng-class="MFSubmitted && !IsUserLogedIn?'form-control ng-dirty':'form-control'" required id="" placeholder="Email address" aria-label="Email address"
                                                   data-msg="Please enter a valid email address."
                                                   data-error-class="u-has-error"
                                                   data-success-class="u-has-success">
                                            <span class="loginerror" ng-show="(feedbackfield.museremail.$dirty || MFSubmitted) && feedbackfield.museremail.$error.required">email required</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- End Form Group -->
                                <!-- Form Group -->
                                <div class="form-group">
                                    <div class="js-form-message js-focus-state">
                                        <label class="sr-only" for="signinPassword">Your Feedback</label>
                                        <div class="input-group">
                                            <textarea ng-model="feedbackdata.muserdescription" name="muserdescription" cols="20" ng-class="MFSubmitted?'form-control ng-dirty':'form-control'" maxlength="500" placeholder="Description"></textarea>
                                            <span class="loginerror" ng-show="(feedbackdata.muserdescription.$dirty || MFSubmitted) && feedbackdata.muserdescription.$error.required">description required</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Form Group -->

                                <div class="mb-2">
                                    <button type="submit" ng-disabled="MFSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Submit</button>
                                </div>



                                <!-- End Login Buttons -->
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="off-canvas-wrapper">
        <div id="mobilepage" style="display:none;margin:0 auto;padding-top:100px;padding-bottom:100px;text-align:center;background:#082044;min-height:700px;">
            <img src="~/Content/images/logo/openstar-school-leasing-log.png" style="margin:0 auto;text-align:center;" />
            <br /><br /><br />
            <div class="alert alert-success" style="text-align:center;">

                Mobile app is currently under construction.<br />
                Please use laptop or pc for now
            </div>
        </div>
        <div id="page" class="hfeed site">

            <header id="masthead" class="site-header header-v5 header-blue u-header u-header-left-aligned-nav  u-scrolled">
                <div ng-controller="MenuController" class="stick-this">



                    <div class="container hidden-lg-down">

                        <div class="masthead" data-ng-init="SiteMenu">
                            <div class="header-logo-area">
                                <div class="header-site-branding">
                                    <a href="/alpha" class="header-logo-link">
                                        <img src="~/Content/images/logo/openstar-school-leasing-log.png" />

                                    </a>
                                </div>
                                <button id="sidebarHeaderInvokerMenu" type="button" class="navbar-toggler d-block btn u-hamburger mr-3 mr-xl-0"
                                        aria-controls="sidebarHeader"
                                        aria-haspopup="true"
                                        aria-expanded="false"
                                        data-unfold-event="click"
                                        data-unfold-hide-on-scroll="false"
                                        data-unfold-target="#sidebarHeader1"
                                        data-unfold-type="css-animation"
                                        data-unfold-animation-in="fadeInLeft"
                                        data-unfold-animation-out="fadeOutLeft"
                                        data-unfold-duration="500">
                                    <span id="hamburgerTriggerMenu" class="u-hamburger__box">
                                        <span class="u-hamburger__inner"></span>
                                    </span>
                                </button>

                                <aside id="sidebarHeader1" class="u-sidebar u-sidebar--left" aria-labelledby="sidebarHeaderInvokerMenu">
                                    <div class="u-sidebar__scroller">
                                        <div class="u-sidebar__container">
                                            <div class="u-header-sidebar__footer-offset pb-20">
                                                <!-- Toggle Button -->
                                                <div class="u-sidebar__head" style="padding-bottom:70px;background:#360874;">
                                                    <div id="headerSidebarContent" class="u-header-sidebar__content pull-left">
                                                        <a class="d-flex ml-0 navbar-brand u-header__navbar-brand u-header__navbar-brand-vertical" href="/alpha/">
                                                            <img src="~/Content/images/logo/openstar-school-leasing-log.png" width="175.748px" height="42.52px" />
                                                        </a>

                                                    </div>
                                                </div>
                                                <div class="position-absolute top-0 right-0 z-index-2 pt-4 pr-7">
                                                    <button type="button" class="close ml-auto"
                                                            aria-controls="sidebarHeader"
                                                            aria-haspopup="true"
                                                            aria-expanded="false"
                                                            data-unfold-event="click"
                                                            data-unfold-hide-on-scroll="false"
                                                            data-unfold-target="#sidebarHeader1"
                                                            data-unfold-type="css-animation"
                                                            data-unfold-animation-in="fadeInLeft"
                                                            data-unfold-animation-out="fadeOutLeft"
                                                            data-unfold-duration="500">
                                                        <span aria-hidden="true"><i class="ec ec-close-remove text-gray-90 font-size-20"></i></span>
                                                    </button>
                                                </div>
                                                <!-- End Toggle Button -->
                                                <!-- Content -->
                                                <div class="js-scrollbar u-sidebar__body pull-left">
                                                    <div id="headerSidebarContent" class="u-sidebar__content u-header-sidebar__content">
                                                        <!-- Logo -->
                                                        <!-- End Logo -->
                                                        <script type="text/ng-template" id="toptreeMenu2" class="main-navigation">
                                                            <a ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0" href="javascript:;" data-target="#headerSidebarPagesCollapse{{menu.mprodcatid}}" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="headerSidebarPagesCollapse{{menu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'u-header-collapse__nav-link u-header-collapse__nav-pointer', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]">{{menu.mcatname}}</a>
                                                            <a href="/Leasing/Products?{{menu.mprodcaturl}}" data-toggle="dropdown" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0" aria-haspopup="true" ng-class="{true: 'u-header-collapse__nav-link u-header-collapse__nav-pointer', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]">{{menu.mcatname}}</a>
                                                            @* We will create submenu only when available *@
                                                            <div id="headerSidebarPagesCollapse{{menu.mprodcatid}}" class="collapse" data-parent="#headerSidebarContent">

                                                                <ul ng-if="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" role="menu" class="u-header-collapse__nav-list">
                                                                    <li ng-repeat="menu in SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true">
                                                                        <a href="/Leasing/Products?{{menu.mprodcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0">{{menu.mcatname}}</a>
                                                                        <a href="/Leasing/CategoryDetails?{{menu.mcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0">{{menu.mcatname}}</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </script>
                                                        <!-- List -->
                                                        <ul id="headerSidebarList" class="u-header-collapse__nav">


                                                            <li id="menu-item-4760" ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0 }:true" ng-class="{true: 'u-has-submenu u-header-collapse__submenu', false: 'u-header-collapse__nav-link'}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]" ng-include="'toptreeMenu2'">

                                                            </li>

                                                            <!-- End Blog Pages -->
                                                        </ul>
                                                        <!-- End List -->
                                                    </div>
                                                </div>
                                                <!-- End Content -->
                                            </div>
                                        </div>
                                    </div>
                                </aside>

                                <div class="off-canvas-navigation-wrapper " style="display:none;">
                                    <div class="off-canvas-navbar-toggle-buttons clearfix">
                                        <button class="navbar-toggler navbar-toggle-hamburger " type="button">
                                            <i class="ec ec-menu"></i>
                                        </button>
                                        <button class="navbar-toggler navbar-toggle-close " type="button">
                                            <i class="ec ec-close-remove"></i>
                                        </button>
                                    </div>
                                    <div class="off-canvas-navigation" id="default-oc-header">

                                        <ul id="menu-all-departments-menu" class="nav nav-inline yamm">

                                            <li id="menu-item-4760" ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0 }:true" ng-class="{true: 'yamm-tfw menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4760 dropdown', false: 'menu-item menu-item-type-post_type menu-item-object-page menu-item-4155'}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]" ng-include="'toptreeMenu'">

                                            </li>


                                            <li ng-repeat="m in Sitemenu" class="highlight menu-item menu-item-type-post_type menu-item-object-page menu-item-4155"><a title="Value of the Day" href="#/home-v2/">{{m.mcatname}}</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <form id="navbarsearch" class="navbar-search" method="get" action="/Leasing/SearchProducts" autocomplete="off">
                                <span style="display:none;" id="demo">All Categories</span>
                                <div class="input-group">
                                    <div class="input-group-addon search-categories" style="border-radius: 2.571em;border-top-right-radius:0;border-bottom-right-radius:0;">
                                        <select name='category' id='product_cat' class='postform resizeselect'>
                                            <option value='0' selected='selected'>All Categories</option>
                                            <!--<option  ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}" ng-selected="menu.mprodcatid==category?'selected':''" class="level-{{$index+1}}" value="{{menu.mprodcatid}}">{{menu.mcatname}}</option>-->
                                            pe

                                            <option ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}" class="level-{{$index+1}}" value="{{menu.mprodcatid}}">{{menu.mcatname}}</option>
                                        </select>
                                    </div>

                                    <div class="input-search-field">
                                        <input type="text" id="search" class="form-control search-field product-search-field searchproduct" dir="ltr" value="" name="searchproducts" placeholder="UK's No. 1 Education and School Leasing Portal" autocomplete="off" style="border-top-left-radius:0;border-bottom-left-radius:0;padding:.2em 1.134em;" />
                                    </div>
                                    <div class="input-group-btn">
                                        <input type="hidden" id="brand-2" name="brand" value="" autocomplete="off">
                                        <input type="hidden" id="search-param" name="post_type" value="product" />
                                        <button type="submit" class="btn btn-secondary"><i class="ec ec-search"></i></button>
                                    </div>
                                </div>
                            </form>

                            <div class="header-icons">
                                <div class="header-icon laberUserInfo wologin animate-dropdown dropdown userdropdown ng-cloak" ng-show="!IsUserLogedIn">
                                    <a href="javascript:;" class="accmenu" data-toggle="dropdown">
                                        <span class="span1 icon"><i class="ec ec-user" style="font-weight: bold;"></i></span>

                                        <span ng-show="!IsUserLogedIn" class="span2" style="">
                                            <span ng-show="!IsUserLogedIn" class="span3">Your account</span>
                                            <span style="display:block;">Hello! Sign in</span>

                                        </span>
                                        <!--<span ng-show="IsUserLogedIn" style="font-size:10px;position: absolute;top: 17px;left: 30px;" ng-bind-html="morgname"></span>-->

                                    </a>
                                    <div class="laber-user-info dropdown-menu dropdown-menu-account">
                                        <div class="user-info">

                                            <div class="signin">
                                                <a id="sidebarNavToggler" href="javascript:;" role="button" class="target-of-invoker-has-unfolds" aria-controls="sidebarContent" aria-haspopup="true" aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false" data-unfold-target="#sidebarContent" data-unfold-type="css-animation" data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight" data-unfold-duration="500">
                                                    Sign in
                                                </a>

                                            </div>
                                            <div class="register">
                                                <span>New customer! Start here.</span>
                                                <a href="/Leasing/Registration">
                                                    Register
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <!--<span ng-show="IsUserLogedIn" style="font-size:10px;position: absolute;top: 17px;left: 30px;" ng-bind-html="morgname"></span>-->

                                    <aside ng-show="!IsUserLogedIn" id="sidebarContent" class="u-sidebar u-sidebar__lg sidebarContent" aria-labelledby="sidebarNavToggler">
                                        <div class="u-sidebar__scroller">
                                            <div class="u-sidebar__container">
                                                <div class="js-scrollbar u-header-sidebar__footer-offset pb-3">
                                                    <!-- Toggle Button -->
                                                    <div class="d-flex align-items-center pt-4 px-7">
                                                        <button type="button" class="close ml-auto"
                                                                aria-controls="sidebarContent"
                                                                aria-haspopup="true"
                                                                aria-expanded="false"
                                                                data-unfold-event="click"
                                                                data-unfold-hide-on-scroll="false"
                                                                data-unfold-target="#sidebarContent"
                                                                data-unfold-type="css-animation"
                                                                data-unfold-animation-in="fadeInRight"
                                                                data-unfold-animation-out="fadeOutRight"
                                                                data-unfold-duration="500" ng-click="showforget=false;showmsg=''">
                                                            <i class="ec ec-close-remove"></i>
                                                        </button>
                                                    </div>
                                                    <!-- End Toggle Button -->
                                                    <!-- Content -->
                                                    <div class="js-scrollbar u-sidebar__body">
                                                        <div class="u-sidebar__content u-header-sidebar__content">
                                                            <form name="loginfield" ng-submit="MenuLogin()" ng-hide="showforget" class="js-validate">
                                                                <!-- Login -->
                                                                <div id="login" data-target-group="idForm">
                                                                    <!-- Title -->
                                                                    <header class="text-center mb-7">
                                                                        <h2 class="h4 mb-0">Welcome Back!</h2>
                                                                        <p>Login to manage your account.</p>
                                                                    </header>
                                                                    <div class="form-group" ng-show="showmsg!='' && showmsg!=null">
                                                                        <div class="alert alert-success" ng-bind-html="showmsg"></div>
                                                                    </div>
                                                                    <!-- End Title -->
                                                                    <!-- Form Group -->
                                                                    <div class="form-group" ng-show="IsError">
                                                                        <div class="alert alert-warning" ng-bind-html="invalidlogin"></div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <div class="js-form-message js-focus-state">
                                                                            <label class="sr-only" for="signinEmail">Email</label>
                                                                            <div class="input-group">
                                                                                <div class="input-group-prepend">
                                                                                    <span class="input-group-text" id="signinEmailLabel">
                                                                                        <span class="fas fa-user"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <input type="email" ng-model="MenuLoginData.museridemail" name="museridemail" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrEmailExample3" placeholder="Email address" aria-label="Email address"
                                                                                       data-msg="Please enter a valid email address."
                                                                                       data-error-class="u-has-error"
                                                                                       data-success-class="u-has-success">
                                                                                <span class="loginerror" ng-show="(loginfield.museridemail.$dirty || MSubmitted) && loginfield.museridemail.$error.required">Username required</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- End Form Group -->
                                                                    <!-- Form Group -->
                                                                    <div class="form-group">
                                                                        <div class="js-form-message js-focus-state">
                                                                            <label class="sr-only" for="signinPassword">Password</label>
                                                                            <div class="input-group">
                                                                                <div class="input-group-prepend">
                                                                                    <span class="input-group-text" id="signinPasswordLabel">
                                                                                        <span class="fas fa-lock"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <input type="password" ng-model="MenuLoginData.mpwd" name="mpwd" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrPasswordExample2" placeholder="********" aria-label="********"
                                                                                       data-msg="Your password is invalid. Please try again."
                                                                                       data-error-class="u-has-error"
                                                                                       data-success-class="u-has-success">
                                                                                <span class="loginerror" ng-show="(loginfield.mpwd.$dirty || MSubmitted) && loginfield.mpwd.$error.required">Password required</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- End Form Group -->

                                                                    <div class="d-flex justify-content-end mb-4">
                                                                        <a class="js-animation-link small text-dark" href="javascript:;"
                                                                           data-target="#forgotPassword"
                                                                           data-link-group="idForm"
                                                                           data-animation-in="slideInUp" ng-click="showforget=true;" style="color:#333!important">Forgot Password?</a>
                                                                    </div>

                                                                    <div class="mb-2">
                                                                        <!--<div class="g-recaptcha" id="gcaptcha2" style="display:inline-block;text-align:center;" data-sitekey="6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp"></div>
                                                                        <textarea name="Captcha_Response" style="display:none;"></textarea>-->
                                                                        <button type="submit" ng-disabled="MSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Login</button>
                                                                    </div>

                                                                    <div class="text-center mb-4">
                                                                        <span class="small text-muted">Do not have an account?</span>
                                                                        <a class="js-animation-link small text-dark" href="/Leasing/Registration#/" style="color:#333!important">
                                                                            Signup
                                                                        </a>
                                                                    </div>

                                                                    @*<div class="text-center">
                                                                                                        <span class="u-divider u-divider--xs u-divider--text mb-4">OR</span>
                                                                                                    </div>

                                                                                                    <!-- Login Buttons -->
                                                                                                    <div class="d-flex">
                                                                            <a class="btn btn-block btn-sm btn-soft-facebook transition-3d-hover mr-1" href="#">
                                                                                <span class="fab fa-facebook-square mr-1"></span>
                                                                                Facebook
                                                                            </a>
                                                                            <a class="btn btn-block btn-sm btn-soft-google transition-3d-hover ml-1 mt-0" href="#">
                                                                                <span class="fab fa-google mr-1"></span>
                                                                                Google
                                                                            </a>
                                                                        </div>*@
                                                                    <!-- End Login Buttons -->
                                                                </div>
                                                            </form>
                                                            <form name="forgetpwd" ng-show="showforget" ng-submit="forgetPassword()">

                                                                <!-- Forgot Password -->
                                                                <div id="forgotPassword" data-target-group="idForm">
                                                                    <!-- Title -->
                                                                    <header class="text-center mb-7">
                                                                        <h2 class="h4 mb-0">Recover Password.</h2>
                                                                        <p>Enter your email address and an email with instructions will be sent to you.</p>
                                                                    </header>
                                                                    <!-- End Title -->
                                                                    <!-- Form Group -->
                                                                    <div class="form-group" ng-show="IsFError">
                                                                        <div class="alert alert-warning">{{invalidFlogin}}</div>
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <div class="js-form-message js-focus-state">
                                                                            <label class="sr-only" for="recoverEmail">Your email</label>
                                                                            <div class="input-group">
                                                                                <div class="input-group-prepend">
                                                                                    <span class="input-group-text" id="recoverEmailLabel">
                                                                                        <span class="fas fa-user"></span>
                                                                                    </span>
                                                                                </div>
                                                                                <input type="email" class="form-control" name="recoveremail" ng-model="recoverEmail" id="recoverEmail" placeholder="Your email" aria-label="Your email" aria-describedby="recoverEmailLabel" required
                                                                                       data-msg="Please enter a valid email address."
                                                                                       data-error-class="u-has-error"
                                                                                       data-success-class="u-has-success">
                                                                                <span class="loginerror" ng-show="(forgetpwd.recoveremail.$dirty || FSubmitted) && forgetpwd.recoveremail.$error.required">Username required</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- End Form Group -->

                                                                    <div class="mb-2">
                                                                        <button type="submit" ng-disabled="FSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Recover Password</button>
                                                                    </div>

                                                                    <div class="text-center mb-4">
                                                                        <span class="small text-dark">Remember your password?</span>
                                                                        <a class="js-animation-link small" href="javascript:;"
                                                                           data-target="#login"
                                                                           data-link-group="idForm"
                                                                           data-animation-in="slideInUp" ng-click="showforget=false;" style="color:#333!important;">
                                                                            Login
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <!-- End Forgot Password -->
                                                            </form>
                                                        </div>
                                                    </div>
                                                    <!-- End Content -->
                                                </div>
                                            </div>
                                        </div>
                                    </aside>
                                </div>
                                <div ng-show="IsUserLogedIn" class="header-icon animate-dropdown dropdown userdropdown ng-hide wlogin ng-cloak">
                                    <a href="javascript:;" class="accmenu" data-toggle="dropdown">
                                        <span class="span1 icon"><i class="ec ec-user" style="font-weight: bold;"></i></span>

                                        <span ng-show="IsUserLogedIn" class="span2" style="">
                                            <span>Hello, <span ng-bind-html="musername"></span></span>
                                            <span ng-show="IsUserLogedIn" class="span3">My account</span>
                                        </span>
                                        <!--<span ng-show="IsUserLogedIn" style="font-size:10px;position: absolute;top: 17px;left: 30px;" ng-bind-html="morgname"></span>-->

                                    </a>

                                    <ul class="dropdown-menu dropdown-menu-account">
                                        <li ng-show="IsUserLogedIn" style="background:#082044;color:#fff;"><a href="javascript:;" style="cursor:none;background:#082044;color:#fff"><span ng-bind-html="morgname"></span></a></li>
                                        <li ng-show="!IsUserLogedIn">
                                            <a id="sidebarNavToggler2" href="javascript:;" style="display:inline;float: left;padding: .25rem 0 .25rem 1.5rem;width:44%" role="button" class="u-header-topbar__nav-link"
                                               aria-controls="sidebarContent"
                                               aria-haspopup="true"
                                               aria-expanded="false"
                                               data-unfold-event="click"
                                               data-unfold-hide-on-scroll="false"
                                               data-unfold-target="#sidebarContent"
                                               data-unfold-type="css-animation"
                                               data-unfold-animation-in="fadeInRight"
                                               data-unfold-animation-out="fadeOutRight"
                                               data-unfold-duration="500">
                                                Sign In <span class="text-gray-50">or</span>
                                            </a>
                                            <a href="/Leasing/Registration" class="u-header-topbar__nav-link" style="display:inline-block;width:50%;padding:.25rem 0;"> Register</a>
                                        </li>
                                        <li ng-show="IsUserLogedIn">
                                            <a href="/MyAccount/Index?tab=yourleaseorder&content=7">Your Profile</a>
                                            <a href="/MyAccount/Index?tab=yourleaseorder&content=12">Pending Signature leases</a>
                                            <a href="/MyAccount/Index?tab=yourleaseorder&content=3">Your Lease Order</a>
                                            <a href="/MyAccount/Index?tab=youractivelease&content=4">Your Active Lease</a>
                                            <a href="/MyAccount/Index?tab=yourleaseorder&content=10">Your Contacts</a>
                                            <a href="/MyAccount/Index?tab=yourleaseorder&content=8">Your Addresses</a>
                                            <a href="javascript:;" ng-click="Logout()">Logout</a>
                                        </li>
                                    </ul>
                                    <!-----------------SideBar Content----------------->
                                    <!-- End Account Sidebar Navigation -->


                                </div>
                                <!--<div class="header-icon" data-placement="bottom" data-toggle="tooltip" data-title="Compare">
                                    <a href="javascript:;/compare/">
                                        <i class="ec ec-compare"></i>
                                    </a>
                                </div>
                                <div class="header-icon" data-toggle="tooltip" data-placement="bottom" data-title="Wishlist">
                                    <a href="javascript:;/wishlist/">
                                        <i class="ec ec-favorites"></i>
                                    </a>
                                </div>-->
                                <div class="header-icon ng-cloak ng-hide" data-toggle="tooltip" data-placement="bottom" data-title="Notification">
                                    <a href="javascript:;/wishlist/" class="icon">
                                        <i class="fa fa-bell"></i>
                                        <span ng-cloak class="bell-icon count header-icon-counter">0</span>
                                    </a>
                                </div>
                                <div class="header-icon animate-dropdown dropdown">

                                    <a href="/Leasing/ViewCart" title="View Your Basket">
                                        <!--<i class="ec ec-shopping-bag"></i>-->
                                        <span class="icon carticon"><i class="ec ec-add-to-cart"></i></span>
                                        <span ng-cloak class="cart-items-count count header-icon-counter">{{shoppingCart.totalItems}}</span>
                                        <span class="cart-items-total-price total-price" ng-cloak>
                                            <span class="woocommerce-Price-amount amount">
                                                Your Basket
                                            </span>
                                            <span class="woocommerce-Price-amount amount">
                                                <span class="woocommerce-Price-currencySymbol">Items : </span>{{shoppingCart.totalItems}}
                                            </span>
                                        </span>

                                    </a>
                                    <!--<a href="javascript:;/cart/" data-toggle="dropdown">
                                        <i class="ec ec-shopping-bag"></i>
                                        <span ng-cloak class="cart-items-count count header-icon-counter">{{shoppingCart.totalItems}}</span>
                                        <span class="cart-items-total-price total-price" ng-cloak><span class="woocommerce-Price-amount amount" ><span class="woocommerce-Price-currencySymbol">&pound;</span>{{shoppingCart.totalPrice | number:2 }}</span></span>
                                    </a>-->
                                    <ul ng-show="shoppingCart.length<=0" class="dropdown-menu dropdown-menu-mini-cart">
                                        <li>
                                            <div class="widget_shopping_cart_content">
                                                <p class="woocommerce-mini-cart__empty-message">No products in your basket.</p>
                                            </div>
                                        </li>
                                    </ul>
                                    <ul ng-show="shoppingCart.length>0" class="dropdown-menu dropdown-menu-mini-cart">
                                        <li>
                                            <div class="widget_shopping_cart_content" style="opacity: 1;">

                                                <ul class="woocommerce-mini-cart cart_list product_list_widget ">
                                                    <li ng-repeat="item in shoppingCart track by $index" class="woocommerce-mini-cart-item mini_cart_item">
                                                        <a style="cursor:pointer" ng-click="deleteFromCart($index)" class="remove">×</a>
                                                        <a>
                                                            <img ng-src="/LeaseAdmin/Content/images/product/{{item.Product.msubpicname || 'leasenoimage.png'}}" class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail" alt="">{{item.Product.mprodname}}
                                                        </a>
                                                        <span class="quantity">{{item.Quantity}} × <span class="woocommerce-Price-amount amount"><span class="woocommerce-Price-currencySymbol">£</span>{{item.Product.mprice | number:2}}</span></span>
                                                    </li>
                                                </ul>

                                                <p class="woocommerce-mini-cart__total total"><strong>Subtotal:</strong> <span class="woocommerce-Price-amount amount"><span class="woocommerce-Price-currencySymbol">£</span>{{shoppingCart.totalPrice | number:2}}</span></p>

                                                <!--<button ng-disabled="!shoppingCart.length" ng-show="!isCheckoutPage" ng-click="checkout()" class="btn btn-success"> Checkout</button>
                                                <button ng-disabled="!shoppingCart.length" ng-click="clearShoppingCart()" class="btn btn-warning">Clear</button>-->
                                                <p class="woocommerce-mini-cart__buttons buttons">
                                                    <a href="/Leasing/ViewCart" class="button wc-forward">View Your Basket</a><a ng-disabled="!shoppingCart.length" ng-show="!isCheckoutPage" href="/Leasing/Checkout" class="button checkout wc-forward">Checkout</a>
                                                </p>


                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- /.header-icons -->
                        </div>

                        <script type="text/ng-template" id="subtreeMenu1" class="main-navigation">
                            <a href="/Leasing/Products?{{submenu.mprodcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true). length <= 0" data-hover="dropdown" data-pcat="{{submenu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'dropdown-toggle mydropdownmenu', false: 'nav-link u-header__sub-menu-nav-link'}[(SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true).length > 0]">{{submenu.mcatname}}</a>
                            <a href="/Leasing/CategoryDetails?{{submenu.mcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true). length > 0" data-hover="dropdown" data-pcat="{{submenu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'dropdown-toggle mydropdownmenu', false: 'nav-link u-header__sub-menu-nav-link'}[(SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true).length > 0]">{{submenu.mcatname}}</a>
                            @* We will create submenu only when available *@
                            <ul ng-if="(SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true).length > 0" role="menu" class="dropdowncontent">
                                <li ng-repeat="submenu2 in SiteMenu | filter:{mpreviouscat : submenu.mprodcatid}:true">
                                    <a href="/Leasing/Products?{{submenu2.mprodcaturl}}">{{submenu2.mcatname}}</a>
                                </li>


                            </ul>
                        </script>

                        <script type="text/ng-template" id="treeMenu1" class="main-navigation">

                            <a href="javascript:;" id="basicMegaMenu{{menu.mprodcatid}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" data-hover="dropdown" data-pcat="{{menu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'nav-link u-header__nav-link u-header__nav-link-toggle', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]">{{menu.mcatname}}</a>
                            <a href="/Leasing/Products?{{menu.mprodcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length <= 0" data-pcat="{{menu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'nav-link u-header__nav-link', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0]">{{menu.mcatname}}</a>
                            @* We will create submenu only when available *@
                            <div class="hs-mega-menu vmm-tfw u-header__sub-menu" aria-labelledby="basicMegaMenu">
                                <!--<div class="vmm-bg">
                                    <img class="img-fluid" src="~/Content/assets/img/500X400/img1.png" alt="Image Description">
                                </div>-->
                                <div class="row u-header__mega-menu-wrapper">
                                    <div class="col-sm-12 mb-3 mb-sm-0">
                                        <span class="u-header__sub-menu-title">{{menu.mcatname}}</span>
                                        <ul ng-if="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" class="u-header__sub-menu-nav-group mb-3">
                                            <li ng-include="'subtreeMenu1'" class="mydropdownmenu" ng-repeat="submenu in SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true">
                                            </li>
                                            <!--<li>
                                                <a class="nav-link u-header__sub-menu-nav-link u-nav-divider border-top pt-2 flex-column align-items-start" href="#">
                                                    <div class="">All Electronics</div>
                                                    <div class="u-nav-subtext font-size-11 text-gray-30">Discover more products</div>
                                                </a>
                                            </li>-->
                                        </ul>
                                    </div>

                                    <!--<div class="col mb-3 mb-sm-0">
                                        <span class="u-header__sub-menu-title">Office & Stationery</span>
                                        <ul class="u-header__sub-menu-nav-group">
                                            <li><a class="nav-link u-header__sub-menu-nav-link" href="#">All Office & Stationery</a></li>
                                        </ul>
                                    </div>-->
                                </div>
                            </div>
                            <ul ng-if="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" role="menu" class="dropdown-menu">
                                <li id="menu-item-4116" class="menu-item menu-item-type-post_type menu-item-object-static_block menu-item-4116">
                                    <div class="yamm-content">
                                        <div class="vc_row wpb_row vc_row-fluid bg-yamm-content bg-yamm-content-bottom bg-yamm-content-right">
                                            <div class="wpb_column vc_column_container vc_col-sm-12">
                                                <div class="vc_column-inner">
                                                    <div class="wpb_wrapper">
                                                        <div class="wpb_single_image wpb_content_element vc_align_left">
                                                            <figure class="wpb_wrapper vc_figure">
                                                                <div class="vc_single_image-wrapper   vc_box_border_grey">
                                                                    <!--<img width="540" height="460" src="/Content/images/megamenu-2.png" class="vc_single_image-img attachment-full" alt="" />-->
                                                                </div>
                                                            </figure>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="vc_row wpb_row vc_row-fluid">
                                            <div class="wpb_column vc_column_container vc_col-sm-6">
                                                <div class="vc_column-inner">
                                                    <div class="wpb_wrapper">
                                                        <div class="wpb_text_column wpb_content_element ">
                                                            <div class="wpb_wrapper">
                                                                <ul>
                                                                    <li ng-include="'subtreeMenu'" class="mydropdownmenu" ng-repeat="submenu in SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true">
                                                                        <a href="/Leasing/Products?{{submenu.mprodcaturl}}">{{submenu.mcatname}}</a>
                                                                    </li>

                                                                </ul>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </script>
                        <div class="electro-navigation-v5">
                            <div class="container">
                                <div class="electro-navigation">

                                    <div class="col-md-auto d-none d-xl-block align-self-center">
                                        <div class="max-width-200 min-width-200">
                                            <!-- Basics Accordion -->
                                            <div id="basicsAccordion">
                                                <!-- Card -->
                                                <div class="card border-0">
                                                    <div class="card-header card-collapse btn-remove-bg-hover border-0" id="basicsHeadingOne">
                                                        <button type="button" class="btn-link btn-remove-bg-hover btn-block d-flex card-btn pyc-10 text-lh-1 pl-0 pr-4 shadow-none btn-primary bg-transparent rounded-top-lg border-0 font-weight-bold text-gray-90"
                                                                data-toggle="collapse"
                                                                data-target="#basicsCollapseOne"
                                                                aria-expanded="true"
                                                                aria-controls="basicsCollapseOne">
                                                            <span class="text-white-90">Product Categories</span>
                                                            <span class="ml-2 text-gray-90">
                                                                <span class="ec ec-arrow-down-search"></span>
                                                            </span>
                                                        </button>
                                                    </div>
                                                    <div id="basicsCollapseOne" class="collapse vertical-menu v2"
                                                         aria-labelledby="basicsHeadingOne"
                                                         data-parent="#basicsAccordion">
                                                        <div class="card-body p-0">
                                                            <nav class="js-mega-menu navbar navbar-expand-xl u-header__navbar u-header__navbar--no-space hs-menu-initialized">
                                                                <div id="navBar1" class="collapse navbar-collapse u-header__navbar-collapse">
                                                                    <ul class="navbar-nav u-header__navbar-nav border-top-primary">

                                                                        <li ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}:true" ng-class="{true: 'nav-item hs-has-mega-menu u-header__nav-item', false: 'nav-item u-header__nav-item'}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]" ng-include="'treeMenu1'" class=""
                                                                            data-event="hover"
                                                                            data-position="left">
                                                                            <a href="#" class="nav-link u-header__nav-link font-weight-bold">Value of the Day</a>
                                                                        </li>

                                                                    </ul>
                                                                </div>
                                                            </nav>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- End Card -->
                                            </div>
                                            <!-- End Basics Accordion -->
                                        </div>
                                    </div>

                                    <!---------Mobile Menu ---------------------------------------------------->

                                    <div class="secondary-nav-menu electro-animate-dropdown">
                                        <ul id="menu-secondary-nav" class="secondary-nav yamm">

                                            <li id="menu-item-4150" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4150"><a title="New Arrivals" href="/Leasing/NewArrivalProducts">New Arrivals</a></li>
                                            <li id="menu-item-4147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147"><a title="Special Offer" href="/Leasing/SpecialOfferProducts">Special Offer</a></li>
                                            <!--<li id="menu-item-4147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147"><a title="Virtual Tour" href="/Leasing/VirtualTour">Virtual Tour</a></li>-->
                                            <li id="menu-item-4147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147"><a title="School FAQ" href="/SchoolFAQ">School FAQs</a></li>
                                            <!--<li id="menu-item-4149" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4149 dropdown">
                                                <a title="FAQs" href="javascript:;" class="dropdown-toggle" aria-haspopup="true" data-hover="dropdown">FAQs</a>
                                                <ul role="menu" class=" dropdown-menu">
                                                    <li id="menu-item-5027" class="menu-item menu-item-type-post_type menu-item-object-static_block menu-item-5027">
                                                        <div class="yamm-content">
                                                            <div class="vc_row wpb_row vc_row-fluid">
                                                                <div class="wpb_column vc_column_container vc_col-sm-12">
                                                                    <div class="vc_column-inner">
                                                                        <div class="wpb_wrapper">
                                                                            <div class="vc_wp_custommenu wpb_content_element">
                                                                                <div class="widget widget_nav_menu">
                                                                                    <div class="menu-pages-menu-1-container">
                                                                                        <ul id="menu-pages-menu-1" class="menu">
                                                                                            <li id="menu-item-4126" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-4126"><a href="/SchoolFAQ">School FAQs</a></li>
                                                                                            <li id="menu-item-4125" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4125" ng-show="!IsUserLogedIn"><a href="/SupplierFAQ">Supplier FAQs</a></li>


                                                                                        </ul>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </li>-->
                                            <li id="menu-item-4147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147" ng-clock ng-show="!IsUserLogedIn"><a title="Sell on EYS" href="/Supplier">Sell on EYS</a></li>
                                            <li ng-show="pendingorder>0" id="menu-item-4147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147 ng-cloak" style="background: #f7db4f;  "><a title="Pending Leases Signature" href="/MyAccount/Index?tab=yourleaseorder&content=12" style="color: #360874;">Pending Leases Signature({{pendingorder}}) <i class="fa fa-arrow-right"></i></a></li>


                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="handheld-header-wrap container hidden-xl-up">
                        <div class="handheld-header-v2 handheld-stick-this ">
                            <button id="sidebar1HeaderInvokerMenu" type="button" class="navbar-toggler d-block btn u-hamburger mr-3 mr-xl-0"
                                    aria-controls="sidebarHeader"
                                    aria-haspopup="true"
                                    aria-expanded="false"
                                    data-unfold-event="click"
                                    data-unfold-hide-on-scroll="false"
                                    data-unfold-target="#sidebarHeader2"
                                    data-unfold-type="css-animation"
                                    data-unfold-animation-in="fadeInLeft"
                                    data-unfold-animation-out="fadeOutLeft"
                                    data-unfold-duration="500">
                                <span id="hamburgerTriggerMenu" class="u-hamburger__box">
                                    <span class="u-hamburger__inner"></span>
                                </span>
                            </button>

                            <aside id="sidebarHeader2" ng-controller="MenuController" class="u-sidebar u-sidebar--left" aria-labelledby="sidebar1HeaderInvokerMenu">
                                <div class="u-sidebar__scroller">
                                    <div class="u-sidebar__container">
                                        <div class="u-header-sidebar__footer-offset pb-20">
                                            <!-- Toggle Button -->
                                            <div class="u-sidebar__head" style="background:url('../content/images/headerback2.jpg');">
                                                <div id="headerSidebarContent" class="u-header-sidebar__content">
                                                    <a class="d-flex ml-0 navbar-brand u-header__navbar-brand u-header__navbar-brand-vertical" href="@Url.Action("Index","Home")">
                                                        <img src="~/Content/images/logo/openstar-school-leasing-log.png" width="175.748px" height="42.52px" />
                                                    </a>

                                                </div>
                                            </div>
                                            <div class="position-absolute top-0 right-0 z-index-2 pt-4 pr-7 topclsbtn">
                                                <button type="button" class="close ml-auto"
                                                        aria-controls="sidebarHeader"
                                                        aria-haspopup="true"
                                                        aria-expanded="false"
                                                        data-unfold-event="click"
                                                        data-unfold-hide-on-scroll="false"
                                                        data-unfold-target="#sidebarHeader2"
                                                        data-unfold-type="css-animation"
                                                        data-unfold-animation-in="fadeInLeft"
                                                        data-unfold-animation-out="fadeOutLeft"
                                                        data-unfold-duration="500">
                                                    <span aria-hidden="true"><i class="ec ec-close-remove text-gray-90 font-size-20"></i></span>
                                                </button>
                                            </div>
                                            <!-- End Toggle Button -->
                                            <!-- Content -->
                                            <div class="js-scrollbar u-sidebar__body">
                                                <div id="headerSidebarContent1" class="u-sidebar__content u-header-sidebar__content">
                                                    <!-- Logo -->
                                                    <!-- End Logo -->
                                                    <script type="text/ng-template" id="toptreeMenu3" class="main-navigation">
                                                        <a ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" href="javascript:;" data-target="#headerSidebarPagesCollapse1{{menu.mprodcatid}}" role="button" data-toggle="collapse" aria-expanded="false" aria-controls="headerSidebarPagesCollapse1{{menu.mprodcatid}}" aria-haspopup="true" ng-class="{true: 'u-header-collapse__nav-link u-header-collapse__nav-pointer', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]">{{menu.mcatname}}</a>
                                                        <a href="/Leasing/Products?{{menu.mprodcaturl}}" data-toggle="{{(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0?'dropdown':''}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0" aria-haspopup="true" ng-class="{true: 'u-header-collapse__nav-link u-header-collapse__nav-pointer', false: ''}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]">{{menu.mcatname}}</a>
                                                        @* We will create submenu only when available *@
                                                        <div id="headerSidebarPagesCollapse1{{menu.mprodcatid}}" class="collapse" data-parent="#headerSidebarContent1">

                                                            <ul ng-if="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true). length > 0" role="menu" class="u-header-collapse__nav-list">
                                                                <li ng-repeat="menu in SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true">
                                                                    <a href="/Leasing/Products?{{menu.mprodcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0">{{menu.mcatname}}</a>
                                                                    <a href="/Leasing/CategoryDetails?{{menu.mcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0">{{menu.mcatname}}</a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </script>
                                                    <!-- List -->
                                                    <ul id="headerSidebarList1" class="u-header-collapse__nav">


                                                        <li id="menu-item-4760" ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0 }:true" ng-class="{true: 'u-has-submenu u-header-collapse__submenu', false: 'u-header-collapse__nav-link'}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]" ng-include="'toptreeMenu3'">

                                                        </li>

                                                        <!-- End Blog Pages -->
                                                    </ul>
                                                    <!-- End List -->
                                                </div>
                                            </div>
                                            <!-- End Content -->
                                        </div>
                                    </div>
                                    yo
                                </div>
                            </aside>
                            <div class="off-canvas-navigation-wrapper " style="display:none;">
                                <div class="off-canvas-navbar-toggle-buttons clearfix">
                                    <button class="navbar-toggler navbar-toggle-hamburger " type="button">
                                        <i class="ec ec-menu"></i>
                                    </button>
                                    <button class="navbar-toggler navbar-toggle-close " type="button">
                                        <i class="ec ec-close-remove"></i>
                                    </button>
                                </div>
                                <div class="off-canvas-navigation" id="default-oc-header">
                                    <ul id="menu-all-departments-menu-2" class="nav nav-inline yamm">
                                        <li id="menu-item-4760" ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}:true" ng-class="{true: 'yamm-tfw menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-4760 dropdown', false: 'menu-item menu-item-type-post_type menu-item-object-page menu-item-4155'}[(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length > 0]" ng-include="'toptreeMenu'">

                                        </li>


                                        <li ng-repeat="m in Sitemenu" class="highlight menu-item menu-item-type-post_type menu-item-object-page menu-item-4155"><a title="Value of the Day" href="#/home-v2/">{{m.mcatname}}</a></li>



                                    </ul>
                                </div>
                            </div>

                            <aside ng-show="!IsUserLogedIn" id="sidebarContent3" class="u-sidebar u-sidebar__lg sidebarContent" aria-labelledby="sidebarNavToggler3">
                                <div class="u-sidebar__scroller">
                                    <div class="u-sidebar__container">
                                        <div class="js-scrollbar u-header-sidebar__footer-offset pb-3">
                                            <!-- Toggle Button -->
                                            <div class="d-flex align-items-center pt-4 px-7">
                                                <button type="button" class="close ml-auto"
                                                        aria-controls="sidebarContent3"
                                                        aria-haspopup="true"
                                                        aria-expanded="false"
                                                        data-unfold-event="click"
                                                        data-unfold-hide-on-scroll="false"
                                                        data-unfold-target="#sidebarContent3"
                                                        data-unfold-type="css-animation"
                                                        data-unfold-animation-in="fadeInRight"
                                                        data-unfold-animation-out="fadeOutRight"
                                                        data-unfold-duration="500">
                                                    <i class="ec ec-close-remove"></i>
                                                </button>
                                            </div>
                                            <!-- End Toggle Button -->
                                            <!-- Content -->
                                            <div class="js-scrollbar u-sidebar__body">
                                                <div class="u-sidebar__content u-header-sidebar__content">
                                                    <form name="loginfield" ng-hide="showforget" ng-submit="MobileMenuLogin()" class="js-validate">
                                                        <!-- Login -->
                                                        <div id="login" data-target-group="idForm">
                                                            <!-- Title -->
                                                            <header class="text-center mb-7">
                                                                <h2 class="h4 mb-0">Welcome Back!</h2>
                                                                <p>Login to manage your account.</p>
                                                            </header>
                                                            <!-- End Title -->
                                                            <!-- Form Group -->
                                                            <div class="form-group" ng-show="IsError">
                                                                <div class="alert alert-warning">{{invalidlogin}}</div>
                                                            </div>
                                                            <div class="form-group" ng-show="showmsg!='' && showmsg!=null">
                                                                <div class="alert alert-success" ng-bind-html="showmsg"></div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="js-form-message js-focus-state">
                                                                    <label class="sr-only" for="signinEmail">Email</label>
                                                                    <div class="input-group">
                                                                        <div class="input-group-prepend">
                                                                            <span class="input-group-text" id="signinEmailLabel">
                                                                                <span class="fas fa-user"></span>
                                                                            </span>
                                                                        </div>
                                                                        <input type="email" ng-model="MenuLoginData.museridemail" name="museridemail" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrEmailExample3" placeholder="Email address" aria-label="Email address"
                                                                               data-msg="Please enter a valid email address."
                                                                               data-error-class="u-has-error"
                                                                               data-success-class="u-has-success">
                                                                        <span class="loginerror" ng-show="(loginfield.museridemail.$dirty || MSubmitted) && loginfield.museridemail.$error.required">Username required</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- End Form Group -->
                                                            <!-- Form Group -->
                                                            <div class="form-group">
                                                                <div class="js-form-message js-focus-state">
                                                                    <label class="sr-only" for="signinPassword">Password</label>
                                                                    <div class="input-group">
                                                                        <div class="input-group-prepend">
                                                                            <span class="input-group-text" id="signinPasswordLabel">
                                                                                <span class="fas fa-lock"></span>
                                                                            </span>
                                                                        </div>
                                                                        <input type="password" ng-model="MenuLoginData.mpwd" name="mpwd" ng-class="MSubmitted?'form-control ng-dirty':'form-control'" required id="signinSrPasswordExample2" placeholder="********" aria-label="********"
                                                                               data-msg="Your password is invalid. Please try again."
                                                                               data-error-class="u-has-error"
                                                                               data-success-class="u-has-success">
                                                                        <span class="loginerror" ng-show="(loginfield.mpwd.$dirty || MSubmitted) && loginfield.mpwd.$error.required">Password required</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- End Form Group -->

                                                            <div class="d-flex justify-content-end mb-4">
                                                                <a class="js-animation-link small link-muted" href="javascript:;"
                                                                   data-target="#forgotPassword"
                                                                   data-link-group="idForm"
                                                                   data-animation-in="slideInUp" ng-click="showforget=true;">Forgot Password?</a>
                                                            </div>

                                                            <div class="mb-2">
                                                                <!--<div class="g-recaptcha" id="gcaptcha3" style="display:inline-block;text-align:center;" data-sitekey="6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp"></div>
                                                                <textarea name="Captcha_Response" style="display:none;"></textarea>-->
                                                                <button type="submit" ng-disabled="MSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Login</button>

                                                            </div>

                                                            <div class="text-center mb-4">
                                                                <span class="small text-muted">Do not have an account?</span>
                                                                <a class="js-animation-link small text-dark" href="/Leasing/Registration/">
                                                                    Signup
                                                                </a>
                                                            </div>

                                                        </div>
                                                    </form>
                                                    <form name="forgetpwd" ng-show="showforget" ng-submit="forgetPassword()">

                                                        <!-- Forgot Password -->
                                                        <div id="forgotPassword" data-target-group="idForm">
                                                            <!-- Title -->
                                                            <header class="text-center mb-7">
                                                                <h2 class="h4 mb-0">Recover Password.</h2>
                                                                <p>Enter your email address and an email with instructions will be sent to you.</p>
                                                            </header>
                                                            <!-- End Title -->
                                                            <!-- Form Group -->
                                                            <div class="form-group" ng-show="IsFError">
                                                                <div class="alert alert-warning">{{invalidFlogin}}</div>
                                                            </div>
                                                            <div class="form-group">
                                                                <div class="js-form-message js-focus-state">
                                                                    <label class="sr-only" for="recoverEmail">Your email</label>
                                                                    <div class="input-group">
                                                                        <div class="input-group-prepend">
                                                                            <span class="input-group-text" id="recoverEmailLabel">
                                                                                <span class="fas fa-user"></span>
                                                                            </span>
                                                                        </div>
                                                                        <input type="email" class="form-control" name="recoveremail" ng-model="recoverEmail" id="recoverEmail" placeholder="Your email" aria-label="Your email" aria-describedby="recoverEmailLabel" required
                                                                               data-msg="Please enter a valid email address."
                                                                               data-error-class="u-has-error"
                                                                               data-success-class="u-has-success">
                                                                        <span class="loginerror" ng-show="(forgetpwd.recoveremail.$dirty || FSubmitted) && forgetpwd.recoveremail.$error.required">Username required</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- End Form Group -->

                                                            <div class="mb-2">
                                                                <button type="submit" ng-disabled="FSubmitted" class="btn btn-block btn-sm btn-primary transition-3d-hover">Recover Password</button>
                                                            </div>

                                                            <div class="text-center mb-4">
                                                                <span class="small text-dark">Remember your password?</span>
                                                                <a class="js-animation-link small" href="javascript:;"
                                                                   data-target="#login"
                                                                   data-link-group="idForm"
                                                                   data-animation-in="slideInUp" ng-click="showforget=false;" style="color:#333!important;">
                                                                    Login
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <!-- End Forgot Password -->
                                                    </form>
                                                </div>
                                            </div>
                                            <!-- End Content -->
                                        </div>
                                    </div>
                                </div>
                            </aside>

                            <div class="header-logo">
                                <a href="/alpha/" class="header-logo-link">
                                    <img src="~/Content/images/logo/openstar-school-leasing-log.png" width="175.748px" height="42.52px" />
                                </a>
                            </div>
                            <div class="handheld-header-links">
                                <ul class="columns-3">
                                    <li class="search hidesearchicon" style="margin-top:10px;">
                                        <a href="">Search</a>
                                        <div class="site-search">
                                            <div class="widget woocommerce widget_product_search">
                                                <form role="search" method="get" class="woocommerce-product-search" action="/Leasing/SearchProducts">
                                                    <label class="screen-reader-text" for="woocommerce-product-search-field-0">Search for:</label>

                                                    <div class="input-group">
                                                        <div class="input-search-field">
                                                            <input type="search" id="woocommerce-product-search-field-0" class="search-field searchproduct woocommerce-product-search-field-0" placeholder="Search products&hellip;" value="" name="searchproducts" placeholder="UK's No. 1 Education and School Leasing Portal" autocomplete="off" style="border-top-left-radius:0;border-bottom-left-radius:0" />
                                                        </div>
                                                        <div class="input-group-addon search-categories" style="display:none;">
                                                            <select name='category' id='product_cat' class='postform resizeselect'>
                                                                <option value='0' selected='selected'>All Categories</option>
                                                                <option ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}" class="level-{{$index+1}}" value="{{menu.mprodcatid}}">{{menu.mcatname}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="input-group-btn">
                                                            <input type="hidden" id="brand-0" name="brand" value="" autocomplete="off">
                                                            <input type="hidden" id="mobile-search-param-0" name="post_type" value="product" autocomplete="off">
                                                            <button type="submit" class="btn btn-secondary"><i class="ec ec-search"></i></button>
                                                        </div>
                                                    </div>





                                                </form>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="my-account">
                                        <div class="header-icon laberUserInfo wologin animate-dropdown dropdown userdropdown" ng-show="!IsUserLogedIn">
                                            <a href="javascript:;" data-toggle="dropdown">

                                                <span class="span1 icon"><i class="ec ec-user" style="font-weight: bold;"></i></span>
                                                <span ng-show="!IsUserLogedIn" class="span2" style="display:none">
                                                    <span ng-show="!IsUserLogedIn" class="span3">Your account</span>
                                                    <span style="display:block;">Hello! Sign in</span>

                                                </span>
                                                <!--<span ng-show="IsUserLogedIn" style="font-size:10px;position: absolute;top: 17px;left: 30px;" ng-bind-html="morgname"></span>-->
                                            </a>
                                            <div class="laber-user-info dropdown-menu dropdown-menu-account">
                                                <div class="user-info">

                                                    <div class="signin">
                                                        <a id="sidebarNavToggler3" href="javascript:;" role="button" class="u-header-topbar__nav-link target-of-invoker-has-unfolds" aria-controls="sidebarContent3" aria-haspopup="true" aria-expanded="false" data-unfold-event="click" data-unfold-hide-on-scroll="false" data-unfold-target="#sidebarContent3" data-unfold-type="css-animation" data-unfold-animation-in="fadeInRight" data-unfold-animation-out="fadeOutRight" data-unfold-duration="500">
                                                            Sign in
                                                        </a>

                                                    </div>
                                                    <div class="register">
                                                        <span>New customer! Start here.</span>
                                                        <a href="/Leasing/Registration">
                                                            Register
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div ng-show="IsUserLogedIn" class="header-icon animate-dropdown dropdown userdropdown ng-hide wlogin ng-cloak">
                                            <a href="javascript:;" data-toggle="dropdown">
                                                <span class="span1"><i class="ec ec-user" style="font-weight: bold;"></i></span>

                                                <span ng-show="IsUserLogedIn" class="span2" style="display:none;">
                                                    <span style="display:block;">Hello, <span ng-bind-html="musername"></span></span>
                                                    <span ng-show="IsUserLogedIn" class="span3">My account</span>
                                                </span>
                                                <!--<span ng-show="IsUserLogedIn" style="font-size:10px;position: absolute;top: 17px;left: 30px;" ng-bind-html="morgname"></span>-->

                                            </a>

                                            <ul class="dropdown-menu dropdown-menu-account">
                                                <li ng-show="IsUserLogedIn" style="background:#082044;color:#fff;"><a href="javascript:;" style="cursor:none;background:#082044;color:#fff"><span ng-bind-html="morgname"></span></a></li>
                                                <li ng-show="!IsUserLogedIn">
                                                    <a id="sidebarNavToggler2" href="javascript:;" style="display:inline;float: left;padding: .25rem 0 .25rem 1.5rem;width:44%" role="button" class="u-header-topbar__nav-link"
                                                       aria-controls="sidebarContent"
                                                       aria-haspopup="true"
                                                       aria-expanded="false"
                                                       data-unfold-event="click"
                                                       data-unfold-hide-on-scroll="false"
                                                       data-unfold-target="#sidebarContent"
                                                       data-unfold-type="css-animation"
                                                       data-unfold-animation-in="fadeInRight"
                                                       data-unfold-animation-out="fadeOutRight"
                                                       data-unfold-duration="500">
                                                        Sign In <span class="text-gray-50">or</span>
                                                    </a>
                                                    <a href="/Leasing/Registration" class="u-header-topbar__nav-link" style="display:inline-block;width:50%;padding:.25rem 0;"> Register</a>
                                                </li>
                                                <li ng-show="IsUserLogedIn">
                                                    <a href="/MyAccount/index?tab=yourleaseorder&content=7">My Profile</a>
                                                    <a href="/MyAccount/Index?tab=yourleaseorder&content=12">Pending Signature leases</a>
                                                    <a href="/MyAccount/index?tab=yourleaseorder&content=3">Your Lease Order</a>
                                                    <a href="/MyAccount/index?tab=youractivelease&content=4">Active Lease</a>
                                                    <a href="/MyAccount/index?tab=yourleaseorder&content=10">My Contacts</a>
                                                    <a href="/MyAccount/index?tab=yourleaseorder&content=8">My Addresses</a>
                                                    <a href="javascript:;" ng-click="Logout()">Logout</a>
                                                </li>
                                            </ul>
                                            <!-----------------SideBar Content----------------->
                                            <!-- End Account Sidebar Navigation -->


                                        </div>

                                    </li>
                                    <li class="cart header-icon animate-dropdown dropdown ng-scope" ng-controller="ShoppingCartController">
                                        <a href="/Leasing/ViewCart/" title="View Your Basket">
                                            <!--<i class="ec ec-shopping-bag"></i>-->
                                            <span class="icon carticon"><i class="ec ec-add-to-cart"></i></span>
                                            <span class="cart-items-count count header-icon-counter ng-binding ng-cloak">{{shoppingCart.totalItems}}</span>
                                            <span class="cart-items-total-price total-price" style="display:none;">
                                                <span class="woocommerce-Price-amount amount">
                                                    Your Basket
                                                </span>
                                                <span class="woocommerce-Price-amount amount ng-binding">
                                                    <span class="woocommerce-Price-currencySymbol">Items : </span><span class="ng-cloak">{{shoppingCart.totalItems}}</span>
                                                </span>
                                            </span>

                                        </a>
                                    </li>
                                </ul>
                            </div>


                            <div class="mobiletopsearch" style="">
                                <div class="smallscreen container">
                                    <form class="navbar-search woocommerce-product-search-1 ng-pristine ng-valid" method="get" action="/Leasing/SearchProducts" autocomplete="off">
                                        <label class="sr-only screen-reader-text" for="search">Search for:</label>
                                        <span style="display:none;" id="edemo"></span>
                                        <div class="input-group">
                                            <div class="input-search-field">
                                                <input type="text" id="woocommerce-product-search-field-1" class="form-control search-field product-search-field searchproduct woocommerce-product-search-field-0" dir="ltr" value="" name="searchproducts" placeholder="Search Products" autocomplete="off" style="border-top-left-radius:0;border-bottom-left-radius:0">
                                            </div>
                                            <div class="input-group-addon search-categories" style="display:none;">
                                                <select name='category' id='product_cat' class='postform resizeselect'>
                                                    <option value='0' selected='selected'>All Categories</option>
                                                    <option ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}" class="level-{{$index+1}}" value="{{menu.mprodcatid}}">{{menu.mcatname}}</option>
                                                </select>
                                            </div>
                                            <div class="input-group-btn">
                                                <input type="hidden" id="brand-1" name="brand" value="" autocomplete="off">
                                                <input type="hidden" id="mobile-search-param" name="post_type" value="product" autocomplete="off">
                                                <button type="submit" class="btn btn-secondary"><i class="ec ec-search"></i></button>
                                            </div>

                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            @RenderBody()
            <!-- #content -->

            <footer id="colophon" class="site-footer footer-v2">
                <textarea style="display:none;" id="commoncaptcha"></textarea>
                <div class="desktop-footer container">

                    <div class="footer-newsletter">
                        <div class="container">
                            <div class="footer-newsletter-inner">
                                <div class="newsletter-content">
                                    <h5 class="newsletter-title">Sign up to our Newsletter</h5>
                                    @*<span class="newsletter-marketing-text">...and receive <strong>£20 coupon for your first order</strong></span>*@
                                </div>
                                <div class="newsletter-form" ng-controller="newsletterController">
                                    <form name="newsletterform" ng-cloak ng-submit="newsletterformdata()">
                                        <div class="input-group">
                                            <input required type="email" maxlength="350" ng-model="newsletteremail" name="newsletteremail" ng-class="MNSubmitted?'form-control ng-dirty':'form-control'" placeholder="Enter your email address">

                                            <span class="input-group-btn">
                                                <button class="btn btn-secondary" ng-disabled="MNSubmitted" type="submit" style="border-radius: 0px 1.4rem 1.4rem 0rem">Sign Up</button>
                                            </span>
                                            <span class="loginerror" ng-show="(newsletteremail.$dirty || MNSubmitted) && newsletteremail.$error.required">email required</span>
                                        </div>

                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bottom-widgets">
                        <div class="container">
                            <div class="footer-bottom-widgets-inner">
                                <div class="footer-contact">
                                    <div class="footer-logo">
                                        <a href="/Leasing">
                                            <img src="~/Content/images/logo/openstar-school-leasing-logo_footer2.png" />
                                        </a>
                                    </div>
                                    <!--<div class="footer-call-us">
                                        <div class="media">
                                            <span class="media-left call-us-icon media-middle"><i class="ec ec-support"></i></span>
                                            <div class="media-body">
                                                <span class="call-us-text">Got Questions ? Call us!</span>
                                                <a href="tel:01625415400"><span class="call-us-number">01625 415 400</span></a>
                                            </div>
                                        </div>
                                    </div>
                                        -->
                                </div>
                                <div class="footer-bottom-widgets-menu">
                                    <div class="footer-bottom-widgets-menu-inner">
                                        <div class="columns">
                                            <aside id="nav_menu-1" class="widget clearfix widget_nav_menu">
                                                <div class="body">
                                                    @*<h4 class="widget-title">Find It Fast</h4>*@
                                                    <div class="menu-footer-menu-1-container">
                                                        <ul id="menu-footer-menu-1" class="menu">
                                                            <li id="menu-item-4859" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4859"><a href="/AboutUs/">About Us</a></li>
                                                            <li id="menu-item-4857" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4857"><a href="/ContactUs">Contact Us</a></li>
                                                            <li id="menu-item-5061" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5061"><a title="Feedback" href="javascript:;" data-toggle="modal" data-target="#feedback-modal" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4147">Feedback</a></li>

                                                        </ul>
                                                    </div>
                                                </div>
                                            </aside>
                                        </div>
                                        <div class="columns">
                                            <aside id="nav_menu-2" class="widget clearfix widget_nav_menu">
                                                <div class="body">

                                                    <div class="menu-footer-menu-2-container">
                                                        <ul id="menu-footer-menu-2" class="menu">
                                                            <li id="menu-item-4859" ng-show="!IsUserLogedIn" class="btn btn-primary menu-item menu-item-type-post_type menu-item-object-page menu-item-4859"><a href="/Supplier">Sell on EYS</a></li>
                                                            <li id="menu-item-4113" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4113"><a href="/SchoolFAQ/">School FAQs</a></li>
                                                            <!--<li id="menu-item-4113" ng-show="!IsUserLogedIn" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4113"><a href="/SupplierFAQ/">Supplier FAQs</a></li>-->
                                                            <!--<li id="menu-item-4874" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4874"><a href="javascript:;/">Wishlist</a></li>-->
                                                        </ul>
                                                    </div>
                                                </div>
                                            </aside>
                                        </div>
                                        <div class="columns">
                                            <aside id="nav_menu-3" class="widget clearfix widget_nav_menu">
                                                <div class="body">
                                                    <div class="footer-address">
                                                        <strong class="footer-address-title">Contact Info</strong>
                                                        <address>Merlin House, 8 Grove Avenue, Wilmslow, SK9 5EG</address>
                                                    </div>
                                                    <div class="footer-social-icons">
                                                        <ul class="social-icons list-unstyled">
                                                            <li><a class="fab fa-facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100088593202850"></a></li>
                                                            <li><a class="fab fa-linkedin" target="_blank" href="https://www.linkedin.com/company/eysuk/"></a></li>
                                                            <li><a class="fab fa-instagram" target="_blank" href="https://www.instagram.com/eysuk2023/"></a></li>
                                                            <li><a class="fab fa-twitter" target="_blank" href="https://twitter.com/eys_uk"></a></li>

                                                            @*<li><a class="fab fa-whatsapp mobile" target="_blank" href="whatsapp://send?phone=63211898"></a></li>
                                                                <li><a class="fab fa-whatsapp desktop" target="_blank" href="https://web.whatsapp.com/send?phone=48522554"></a></li>*@
                                                            @*<li><a class="fab fa-youtube" target="_blank" href="javascript:;/"></a></li>
                                                                <li><a class="fas fa-rss" target="_blank" href="javascript:;/"></a></li>*@
                                                        </ul>
                                                    </div>
                                                </div>
                                            </aside>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="footer-bottom-widgets" style="padding: 1.28em 0 3em 0;" ng-controller="MenuController">
                        <div class="container">
                            <div class="footer-bottom-widgets-inner">

                                <div class="footer-bottom-widgets-menu">
                                    <div class="footer-bottom-widgets-menu-inner">
                                        <div class="columns">
                                            <aside id="nav_menu-1" class="widget clearfix widget_nav_menu">
                                                <div class="body">
                                                    <div class="link-section">
                                                        <div class="foot-item-title foot-item-text" style="font-size:1.2rem">Trending now</div>
                                                        <div class="links-container" style="margin: 2px 0px 0 3px;">
                                                            <span ng-repeat="menu in SiteMenu | filter:{mpreviouscat : 0}:false">
                                                                <a class="foot-item-text link-text pointer" href="/Leasing/Products?{{menu.mprodcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length <= 0">{{menu.mcatname}}</a>

                                                                <a class="foot-item-text link-text pointer" href="/Leasing/CategoryDetails?{{menu.mcaturl}}" ng-show="(SiteMenu | filter:{mpreviouscat : menu.mprodcatid}:true).length >0">{{menu.mcatname}}</a>
                                                                <span class="link-divider"> | </span>
                                                            </span>

                                                        </div>
                                                    </div>

                                                </div>
                                            </aside>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="copyright-bar">
                        <div class="container">
                            <div class="copyright">&copy; <a href="#"></a>All Rights Reserved. Alpha 1.0.3</div>
                            <div class="payment">
                                <div class="footer-payment-logo">

                                    <ul class="cash-card card-inline">
                                        <li id="menu-item-4114" class="card-item"><a href="/PrivacyPolicy/">Privacy Policy</a></li>
                                        <li id="menu-item-4112" class="card-item"><a href="/Disclaimer/">Disclaimer </a></li>
                                        <li id="menu-item-4112" class="card-item"><a href="/TermsConditions/">Terms and Conditions</a></li>
                                        <!--<li class="card-item"><img src="~/Content/images/patment-icon.png" alt="" width="324" height="38"></li>-->
                                    </ul>
                                </div>
                                <!-- /.payment-methods -->
                            </div>
                        </div>
                    </div>
                    <style>
                    </style>

                </div>
                <div class="handheld-footer v1 ">
                    <div class="handheld-widget-menu">
                        <div class="columns">
                            <aside id="nav_menu-1" class="widget clearfix widget_nav_menu">
                                <div class="body">
                                    <h4 class="widget-title">Find It Fast</h4>
                                    <div class="menu-footer-menu-1-container">
                                        <ul id="menu-footer-menu-1" class="menu">
                                            <li id="menu-item-5058" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5058"><a href="/Leasing/Products?Category=Laptop&getproducts=cQubx6n1uoL%2bRHPThbJDQA%3d%3d">Laptops</a></li>
                                            <li id="menu-item-5062" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5062"><a href="/Leasing/Products?Category=Desktop&getproducts=fJ3V2bsu5Cql0FRDjN7s1A%3d%3d">Desktop</a></li>
                                            <li id="menu-item-5059" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5059"><a href="/Leasing/Products?Category=HD%20Camera&getproducts=BOtH1svEX1DjxDgb25zIVA%3d%3d">Cameras</a></li>
                                            <li id="menu-item-5060" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5060"><a href="/Leasing/Products?Category=Vending&getproducts=q%2buzeLoORypfuHr0ZcJHEQ%3d%3d">Vending</a></li>
                                            <li id="menu-item-5061" class="menu-item menu-item-type-taxonomy menu-item-object-product_cat menu-item-5061"><a href="/Leasing/Products?Category=Whiteboard&getproducts=OMK9yerhwHngS8utgDzUgA%3d%3d">White board</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </aside>
                        </div>
                        <div class="columns">
                            <aside id="nav_menu-2" class="widget clearfix widget_nav_menu">
                                <div class="body">
                                    <h4 class="widget-title">Quick Link </h4>
                                    <div class="menu-footer-menu-2-container">
                                        <ul id="menu-footer-menu-2" class="menu">
                                            <li id="menu-item-4859" ng-show="!IsUserLogedIn" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4859"><a href="/Supplier">Sell on EYS</a></li>
                                            <li id="menu-item-4859" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4859"><a href="/AboutUs/">About Us</a></li>
                                            <li id="menu-item-4857" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4857"><a href="/ContactUs">Contact Us</a></li>
                                            <!--<li id="menu-item-4874" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4874"><a href="javascript:;/wishlist/">Wishlist</a></li>-->

                                        </ul>
                                    </div>
                                </div>
                            </aside>
                        </div>
                        <div class="columns">
                            <aside id="nav_menu-3" class="widget clearfix widget_nav_menu">
                                <div class="body">
                                    <h4 class="widget-title">Customer Care</h4>
                                    <div class="menu-footer-menu-3-container">
                                        <ul id="menu-footer-menu-3" class="menu">
                                            <!--<li id="menu-item-4110" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4110"><a href="javascript:;/track-your-order/">Track your Order</a></li>
                                            <li id="menu-item-4112" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4112"><a href="/Leasing/ReturnRefundPolicy/">Returns/Refund Policy </a></li>-->
                                            <li id="menu-item-4113" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4113"><a href="/SchoolFAQ/">School FAQs</a></li>
                                            <!--<li id="menu-item-4113" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4113" ng-show="!IsUserLogedIn"><a href="/SupplierFAQ/">Supplier FAQs</a></li>-->
                                            <li id="menu-item-4114" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4114"><a href="/PrivacyPolicy/">Privacy Policy</a></li>
                                            <li id="menu-item-4112" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4112"><a href="/Disclaimer/">Disclaimer </a></li>
                                            <li id="menu-item-4112" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4112"><a href="/TermsConditions/">Terms and Conditions</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </aside>
                        </div>

                    </div>
                    <div class="footer-social-icons">

                        <ul class="social-icons-color">
                            <li><a class="fab fa-facebook" target="_blank" href="https://www.facebook.com/profile.php?id=100088593202850"></a></li>
                            <li><a class="fab fa-linkedin" target="_blank" href="https://www.linkedin.com/company/eysuk/"></a></li>
                            <li><a class="fab fa-instagram" target="_blank" href="https://www.instagram.com/eysuk2023/"></a></li>
                            <li><a class="fab fa-twitter" target="_blank" href="https://twitter.com/eys_uk"></a></li>
                            @*<li><a class="fab fa-youtube" target="_blank" href="javascript:;/"></a></li>
                                <li><a class="fas fa-rss" target="_blank" href="javascript:;/"></a></li>*@
                        </ul>
                    </div>
                    <div class="handheld-footer-bar">
                        <div class="handheld-footer-bar-inner">
                            <div class="footer-logo">
                                <a href="/alpha/"><img src="~/Content/images/logo/openstar-school-leasing-log.png" width="175.748px" height="42.52px" /></a>

                            </div>
                            <!--<div class="footer-call-us">
                                <div class="media">
                                    <span class="media-left call-us-icon media-middle" style="text-align:right;width:129px;"><i class="ec ec-support"></i></span>
                                    <div class="media-body" style="text-align: left;">
                                        <span class="call-us-text"><strong>Got Questions ? Call us 24/7!</strong></span>
                                        <a href="tel:01625415400"><span class="call-us-number">01625 415 400</span></a>
                                    </div>
                                </div>
                            </div>-->
                            <div class="footer-address">
                                <strong class="footer-address-title text-center">Contact Info</strong>
                                <address>Merlin House, 8 Grove Avenue, Wilmslow, SK9 5EG</address>
                            </div>

                        </div>
                    </div>
                    <div class="copyright-bar">
                        <div class="container">
                            <div class="copyright" style="text-align: center;">&copy; <a href="#"></a>All Rights Reserved. Alpha 1.0.3</div>
                            <div class="payment">
                                <div class="footer-payment-logo">

                                    <ul class="cash-card card-inline">

                                        <!--<li class="card-item"><img src="~/Content/images/patment-icon.png" alt="" width="324" height="38"></li>-->
                                    </ul>
                                </div>
                                <!-- /.payment-methods -->
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
            <!-- #colophon -->
            <!-- ========== END SECONDARY CONTENTS ========== -->

        </div>
        <div ng-controller="CookieController">
            <div id="tickcookie" role="banner" ng-cloak ng-show="cookienone" class="cn-bottom bootstrap" style="color: #fff; background-color: #022b69;">
                <div class="cookie-notice-container">
                    <span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. If you continue to use this site we will assume that you are happy with it.</span>
                    <a href="#" id="tick-accept-cookie" ng-click="acceptCookie()" data-cookie-set="accept" class="tick-set-cookie cn-button bootstrap button">Ok</a>
                </div>

            </div>
        </div>
        <!-- #page -->
    </div>

    <script type="text/javascript">
        var c = document.body.className;
        c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
        document.body.className = c;
    </script>
    <script type="text/javascript">
        function revslider_showDoubleJqueryError(sliderID) {
            var errorMessage = "Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";
            errorMessage += "<br> This includes make eliminates the revolution slider libraries, and make it not work.";
            errorMessage += "<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Slider Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.";
            errorMessage += "<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it.";
            errorMessage = "<span style='font-size:16px;color:#BC0C06;'>" + errorMessage + "</span>";
            jQuery(sliderID).show().html(errorMessage);
        }
    </script>
    <link rel='stylesheet' id='js_composer_front-css' href='~/Content/css/js_composer.min.css?ver=5.7' type='text/css' media='all' />
    <script type='text/javascript' src='~/Content/js/jquery.selectBox.min.js?ver=1.2.0'></script>
    <script type='text/javascript'>
        /* <![CDATA[ */
        var yith_wcwl_l10n = { "ajax_url": "#", "redirect_to_cart": "no", "multi_wishlist": "", "hide_add_button": "1", "is_user_logged_in": "", "ajax_loader_url": "#", "remove_from_wishlist_after_add_to_cart": "yes", "labels": { "cookie_disabled": "We are sorry, but this feature is available only if cookies are enabled on your browser.", "added_to_cart_message": "<div class=\"woocommerce-message\">Product correctly added to cart<\/div>" }, "actions": { "add_to_wishlist_action": "add_to_wishlist", "remove_from_wishlist_action": "remove_from_wishlist", "move_to_another_wishlist_action": "move_to_another_wishlsit", "reload_wishlist_and_adding_elem_action": "reload_wishlist_and_adding_elem" } };
        /* ]]> */
    </script>
    <script type='text/javascript' src='~/Content/js/jquery.yith-wcwl.js?ver=2.2.8'></script>
    <script type='text/javascript' src='~/Content/js/js.cookie.min.js?ver=2.1.4'></script>
    <script type='text/javascript'>
        /* <![CDATA[ */
        var woocommerce_params = { "ajax_url": "#", "wc_ajax_url": "#" };
        /* ]]> */
    </script>
    <script type='text/javascript' src='~/Content/js/woocommerce.min.js?ver=3.5.7'></script>
    <script type='text/javascript'>
        /* <![CDATA[ */
        var wc_cart_fragments_params = {
            "ajax_url": "#",
            "wc_ajax_url": "#",
            "cart_hash_key": "wc_cart_hash_88effc316076f529e86d4cdd97a5ee51",
            "fragment_name": "wc_fragments_88effc316076f529e86d4cdd97a5ee51"
        };
        /* ]]> */
    </script>
    <script type='text/javascript' src='~/Content/js/cart-fragments.min.js?ver=3.5.7'></script>
    <script type='text/javascript'>
        /* <![CDATA[ */
        var yith_woocompare = {
            "ajaxurl": "#",
            "actionadd": "yith-woocompare-add-product",
            "actionremove": "yith-woocompare-remove-product",
            "actionview": "yith-woocompare-view-table",
            "actionreload": "yith-woocompare-reload-product",
            "added_label": "Added",
            "table_title": "Product Comparison",
            "auto_open": "yes",
            "loader": "#", "button_text": "Compare", "cookie_name": "yith_woocompare_list", "close_label": "Close"
        };
        /* ]]> */
    </script>
    <script type='text/javascript' src='~/Content/js/woocompare.min.js?ver=2.3.9'></script>
    <script type='text/javascript' src='~/Content/js/jquery.colorbox-min.js?ver=1.4.21'></script>
    <script type='text/javascript' src='~/Content/js/jquery.prettyPhoto.min.js?ver=3.1.6'></script>
    <script type='text/javascript' src='~/Content/js/tether.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/bootstrap.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/jquery.waypoints.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/jquery.easing.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/scrollup.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/bootstrap-hover-dropdown.min.js?ver=2.3.1'></script>
    <script src="~/Content/assets/vendor/hs-megamenu/src/hs.megamenu.js"></script>
    <script src="~/Content/assets/vendor/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.concat.min.js"></script>

    <script type='text/javascript'>

        /* <![CDATA[ */
        var electro_options = {
            "rtl": "0",
            "ajax_url": "#",
            "ajax_loader_url": "~\/Content\/images\/ajax-loader.gif",
            "enable_sticky_header": "",
            "enable_hh_sticky_header": "",
            "enable_live_search": "",
            "live_search_limit": "10",
            "live_search_template": "<a href=\"{{url}}\" class=\"media live-search-media\"><img src=\"{{image}}\" class=\"media-left media-object flip pull-left\" height=\"60\" width=\"60\"><div class=\"media-body\"><p>{{{value}}}<\/p><\/div><\/a>",
            "live_search_empty_msg": "Unable to find any products that match the current query",
            "deal_countdown_text": { "days_text": "Days", "hours_text": "Hours", "mins_text": "Mins", "secs_text": "Secs" },
            "typeahead_options": { "hint": false, "highlight": true },
            "offcanvas_mcs_options": { "axis": "y", "theme": "minimal-dark", "contentTouchScroll": 100, "scrollInertia": 1500 },
            "compare_page_url": "#"
        };
        /* ]]> */
    </script>
    <script type='text/javascript' src='~/Content/js/electro.min.js?ver=2.3.2'></script>
    <script type='text/javascript' src='~/Content/js/owl.carousel.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/pace.min.js?ver=2.3.1'></script>
    <script type='text/javascript' src='~/Content/js/wp-embed.min.js?ver=5.1.3'></script>
    <script type='text/javascript' src='~/Content/js/js_composer_front.min.js?ver=5.7'></script>
    @if (pageName == "SingleProduct")
    {
        <script type='text/javascript' src='~/Content/js/jquery.zoom.min.js?ver=1.7.21'></script>
        <script type='text/javascript' src='~/Content/js/jquery.flexslider-min.js?ver=5.7'></script>
        <script type='text/javascript' src='~/Content/js/photoswipe.min.js?ver=4.1.1'></script>
        <script type='text/javascript' src='~/Content/js/photoswipe-ui-default.min.js?ver=4.1.1'></script>
        <script type='text/javascript'>/* <![CDATA[ */ var wc_single_product_params = { "i18n_required_rating_text": "Please select a rating", "review_rating_required": "yes", "flexslider": { "rtl": false, "animation": "slide", "smoothHeight": true, "directionNav": false, "controlNav": false, "slideshow": false, "animationSpeed": 500, "animationLoop": false, "allowOneSlide": false }, "zoom_enabled": "1", "zoom_options": [], "photoswipe_enabled": "1", "photoswipe_options": { "shareEl": false, "closeOnScroll": false, "history": false, "hideAnimationDuration": 0, "showAnimationDuration": 0 }, "flexslider_enabled": "1" }; /* ]]> */</script>
        <script type='text/javascript' src='~/Content/js/single-product.min.js?ver=3.5.7'></script>
    }

    <script type='text/javascript' src='~/Content/js/hs.core.js'></script>
    <script type='text/javascript' src='~/Content/js/hs.unfold.js'></script>
    <script type='text/javascript' src='~/Content/js/toastr.js'></script>
    <!--<script type="text/javascript" src="~/Content/js/datatables.min.js"></script>-->
    <script src="~/Content/angular.min.js"></script>
    <script src="~/Content/angular-route.min.js"></script>
    <script src="~/Content/angular-animate.min.js"></script>

    <script src="~/Content/angular-sanitize.js"></script>
    <script src="~/Content/angular-cookies.min.js"></script>
    <script src="~/Content/underscore-min.js"></script>
    <script src="~/Content/js/angular-filter.min.js"></script>
    <script src="~/Content/angular-file-upload.js"></script>
    <script src="~/Content/ng-infinite-scrolle.min.js"></script>
    <script src="~/Content/lease-term.js?v=1.0.0"></script>
    <script src="~/Content/js/jspdf.min.js"></script>
    <script src="~/Content/js/html2canvas.js"></script>
    <script data-require="angular-ui-bootstrap@0.3.0" data-semver="0.3.0" src="~/Content/js/ui-bootstrap-tpls-2.5.0.min.js"></script>

    <!--script src="~/Content/offline/offline.min.js"></!--script>-->
    <script>
        /* Offline.options = {
     checkOnLoad: false,
     interceptRequests: true,
     reconnect: {
     initialDelay: 3,
         delay: 10
     },
     requests: true,
     game: false
}
Offline.check();
console.log(Offline.state);
var run = function(){
     if (Offline.state === 'down') {
         console.log("up");
         Offline.check();
     }

}
setInterval(run, 5000);*/
    </script>
    <script>
        var element = "";
        jQuery(window).on('load', function () {
            // initialization of HSMegaMenu component
            jQuery('.js-mega-menu').HSMegaMenu({
                event: 'hover',
                direction: 'horizontal',
                pageContainer: jQuery('.container'),
                breakpoint: 767.98,
                hideTimeOut: 0
            });

            var d = jQuery("#demo").html();
            var e = jQuery("#demo").width();
            jQuery("#product_cat").css("width", e + 60);
        });

        jQuery(document).on('ready', function () {
            jQuery.HSCore.components.HSUnfold.init(jQuery('[data-unfold-target]'), {
                afterOpen: function () {
                    jQuery(this).find('input[type="search"]').focus();
                }
            });
            var pdf, page_section, HTML_Width, HTML_Height, top_left_margin, PDF_Width, PDF_Height, canvas_image_width, canvas_image_height;

            //	pdf = new jsPDF('p', 'pt', [794, 1123]);


            function calculatePDF_height_width(selector, index) {
                page_section = jQuery(selector).eq(index);
                HTML_Width = page_section.width();
                HTML_Height = page_section.height();
                top_left_margin = 15;
                PDF_Width = HTML_Width + (top_left_margin * 2);
                PDF_Height = (PDF_Width * 1.2) + (top_left_margin * 2);
                canvas_image_width = HTML_Width;
                canvas_image_height = HTML_Height;

            }
            jQuery(".exportpdfnew").click(function (e) {
                e.preventDefault();
                var iframe = document.getElementById('printf');
                iframe.src = '';
                jQuery("#quoteModal .modal-body").block({
                    message: '<h6>Please wait..</h6>'
                });
                html2canvas(jQuery(".print-wrap:eq(0)")[0], {
                    imageTimeout: 2000,
                    scale: 1,
                    scrollX: 0,
                    scrollY: 0,
                    removeContainer: true,
                }).then(function (canvas) {
                    canvas.getContext('2d').scale(2, 2);
                    calculatePDF_height_width(".print-wrap", 0);
                    if (PDF_Width > PDF_Height) {
                        pdf = new jsPDF('l', 'pt', [PDF_Width, PDF_Height], true);
                    }
                    else {
                        pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height], true);
                    }
                    //pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);

                    //var imgData = canvas.toDataURL("image/jpeg", 1.0);
                    //pdf.internal.scaleFactor = 30;
                    pdf.addImage(canvas, 'JPG', top_left_margin, top_left_margin, HTML_Width, HTML_Height, '', 'FAST');
                    pdf.text(25, PDF_Height - 30, 'Prepared By: equipyourschool.co.uk');


                    //console.log((page_section.length-1)+"==="+index);
                    setTimeout(function () {

                        //Save PDF Doc
                        //pdf.save("HTML-Document.pdf");

                        //Generate BLOB object
                        pdf.autoPrint({ variant: 'non-confirm' });
                        var blob = pdf.output("blob");
                        var blobURL = URL.createObjectURL(blob);
                        //window.open(blobURL, "_blank");
                        //window.location.href = blobURL;
                        //window.location.action
                        iframe.src = blobURL;
                        let objFra = document.getElementById('printf');
                        //objFra.contentWindow.focus();
                        //objFra.contentWindow.print();
                        jQuery("#quoteModal .modal-body").unblock()


                    }, 0);
                });

            });
            jQuery(".downloadpdfnew").click(function (e) {
                e.preventDefault();
                var iframe = document.getElementById('printf');
                iframe.src = '';
                jQuery("#quoteModal .modal-body").block({
                    message: '<h6>Please wait..</h6>'
                });
                html2canvas(jQuery(".print-wrap:eq(0)")[0], {
                    imageTimeout: 2000,
                    scale: 1,
                    scrollX: 0,
                    scrollY: 0,
                    removeContainer: true,
                }).then(function (canvas) {
                    canvas.getContext('2d').scale(2, 2);
                    calculatePDF_height_width(".print-wrap", 0);
                    if (PDF_Width > PDF_Height) {
                        pdf = new jsPDF('l', 'pt', [PDF_Width, PDF_Height], true);
                    }
                    else {
                        pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height], true);
                    }
                    //pdf = new jsPDF('p', 'pt', [PDF_Width, PDF_Height]);

                    //var imgData = canvas.toDataURL("image/jpeg", 1.0);
                    //pdf.internal.scaleFactor = 30;
                    pdf.addImage(canvas, 'JPG', top_left_margin, top_left_margin, HTML_Width, HTML_Height, '', 'FAST');
                    pdf.text(25, PDF_Height - 30, 'Prepared By: equipyourschool.co.uk');


                    //console.log((page_section.length-1)+"==="+index);
                    setTimeout(function () {

                        //Save PDF Doc
                        pdf.save("EYSQuotation.pdf");

                        //Generate BLOB object
                        /*pdf.autoPrint({ variant: 'non-confirm' });
                        var blob = pdf.output("blob");
                        var blobURL = URL.createObjectURL(blob);
                        iframe.src = blobURL;
                        let objFra = document.getElementById('printf');
                        */
                        //objFra.contentWindow.focus();
                        //objFra.contentWindow.print();
                        jQuery("#quoteModal .modal-body").unblock();


                    }, 0);
                });
            });
        });
    </script>
    <script type="text/javascript">
        var widgetId1;
        var widgetId2;
        var widgetId3;
        var wid2;
        var wid3;
        var wwidget3;
        var verifyCallback = function (response) {
            widgetId2 = response;
        };
        var verifyCallback2 = function (response) {
            widgetId1 = response;
        };
        var verifyCallback3 = function (response) {
            widgetId3 = response;
        };
        var wwidget3;
        var verifyCallback4 = function (response) {
            widget3 = response;
        };
        var onloadCallback = function () {
           /* grecaptcha.render(document.getElementById('gcapres'), {
                'sitekey': '6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp',
                'callback': verifyCallback,
            });
            wid2=grecaptcha.render(document.getElementById('gcaptcha2'), {
                'sitekey': '6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp',
                'callback': verifyCallback2,
            });
            wid3 = grecaptcha.render(document.getElementById('gcaptcha3'), {
                'sitekey': '6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp',
                'callback': verifyCallback3,
            });
            wwidget3 = grecaptcha.render(document.getElementById('gcaptcha4'), {
                'sitekey': '6Lea7UgUAAAAAGw9F_NmSsCRMbYJ09AexjaG1CHp',
                'callback': verifyCallback4,
            });
            */
        };
        var app = angular.module('MyApp', ['ngSanitize', 'ngRoute', 'ngCookies', 'angular.filter', 'angularFileUpload', 'leasetermjs', 'infinite-scroll', 'ui.bootstrap']).run(['$anchorScroll', '$rootScope', function ($anchorScroll, $rootScope) {
            $anchorScroll.yOffset = 50;   // always scroll by 50 extra pixels
            $rootScope.shoppingCart = [];
            $rootScope.IsUserLogedIn = false;
            $rootScope.vat = 0;
            $rootScope.loader = false;

        }])
        app.directive('pagination1', function () {
            return {
                restrict: 'E',
                scope: {
                    numPages: '=',
                    currentPage: '=',
                    onSelectPage: '&'
                },
                templateUrl: '/templates/pagination.html',
                replace: true,
                link: function (scope) {
                    scope.$watch('numPages', function (value) {
                        scope.pages = [];
                        for (var i = 1; i <= value; i++) {
                            scope.pages.push(i);
                        }
                        if (scope.currentPage > value) {
                            scope.selectPage(value);
                        }
                    });
                    scope.noPrevious = function () {
                        return scope.currentPage === 1;
                    };
                    scope.noNext = function () {
                        return scope.currentPage === scope.numPages;
                    };
                    scope.isActive = function (page) {
                        return scope.currentPage === page;
                    };

                    scope.selectPage = function (page) {
                        if (!scope.isActive(page)) {
                            scope.currentPage = page;
                            scope.onSelectPage({ page: page });
                        }
                    };

                    scope.selectPrevious = function () {
                        if (!scope.noPrevious()) {
                            scope.selectPage(scope.currentPage - 1);
                        }
                    };
                    scope.selectNext = function () {
                        if (!scope.noNext()) {
                            scope.selectPage(scope.currentPage + 1);
                        }
                    };
                }
            };
        });
        app.directive("owlCarousel", function () {
            return {
                restrict: 'E',
                transclude: false,
                link: function (scope) {
                    scope.initCarousel = function (element) {

                        // provide any default options you want
                        var defaultOptions = {};
                        var customOptions = scope.$eval(jQuery(element).attr('data-options'));
                        // combine the two options objects
                        for (var key in customOptions) {
                            defaultOptions[key] = customOptions[key];
                        }
                        // init carousel
                        //jQuery(element).data('owlCarousel').destroy();
                        var curOwl = jQuery(element).data('owlCarousel');


                        if (!angular.isDefined(curOwl)) {
                            jQuery(element).owlCarousel(defaultOptions);
                            if (jQuery(element).hasClass("owl-hidden")) {
                                //jQuery(element).addClass("owl-carousel");
                                jQuery(element).removeClass("owl-hidden");
                            }
                        }
                        scope.cnt++;
                    };
                }
            };
        }).directive('owlCarouselItem', ['$window','$timeout',
            function ($window,$timeout) {
                return {
                    restrict: 'A',
                    transclude: false,
                    link: function (scope, element) {
                        // wait for the last item in the ng-repeat then call init
                        if (scope.$last) {
                            scope.$parent.owlelement = element.parent();
                           // $timeout(function () {
                                scope.initCarousel(element.parent());
                            //}, 50);
                        }
                    }
                };
            }
        ]);
        app.factory('ShoppingFactory', ['AccountsService', 'ItemsService', '$rootscope', function (AccountsService, ItemsService, $rootscope) {
            return {
                createCurrentUser: function () {
                    this.username = '';
                    this.password = '';
                    this.shoppingcart = [];
                    $rootscope.currentUser = this;
                },
                createShoppingCart: function () {
                    $rootscope.shoppingcart = [];

                    $rootscope.min = 0;
                    $rootscope.max = 1000;
                }
            };
        }]);
        app.service('LoginService', function () {
            this.LoginFlag = false;
            this.LoginId = 0;
        });
        /*app.config(function ($locationProvider) {
            //$locationProvider.html5Mode(true);
        });*/
        console.log('changed');
        
        app.controller('CookieController', ['$rootScope', '$scope', '$http', '$cookies', '$window',
        function ($rootScope, $scope, $http, $cookies, $window, LoginService) {
            $scope.cookienone = false;
            if (angular.isUndefined($cookies.get('cookienotice'))) {
                $scope.cookienone = true;
                jQuery(".single-product .single_add_to_cart_button").addClass("cookiemsg");
            }
            $scope.acceptCookie = function () {
                var expireDate = new Date();
                expireDate.setDate(expireDate.getDate() + 365);
                var c = {
                    "cookieaccept":1
                }
                $cookies.putObject('cookienotice', c, { 'expires': expireDate, 'path': '/' });
                jQuery(".single-product .single_add_to_cart_button").removeClass("cookiemsg");
                $scope.cookienone = false;
            }

        }

        ]);
        app.controller('FeedBackController', ['$rootScope', '$scope', '$http', '$cookies', '$window',
        function ($rootScope, $scope, $http, $cookies, $window, LoginService) {
            /**********************FeedBack Form***************************************/
            $scope.Isfeedbackform = false;
            $scope.MFSubmitted = false;
            $scope.feedbackdata = { musername: "", museremail: "" };
            //$scope.feedbackdata.museremail = "";
            if (!angular.isUndefined($cookies.get('userdata'))) {
                var userdatas = $cookies.getObject('userdata');
                $scope.feedbackdata.musername = userdatas.mname;
                $scope.feedbackdata.museremail = userdatas.museridemail;
            }
            $scope.feedbackform = function () {
                $scope.MFSubmitted = true;
                if (!angular.isUndefined($cookies.get('userdata'))) {
                    var userdatas = $cookies.getObject('userdata');
                    $scope.feedbackdata.musername = userdatas.mname;
                    $scope.feedbackdata.museremail = userdatas.museridemail;
                    $scope.Isfeedbackform =true;
                }
                if ($scope.Isfeedbackform) {
                    $http({

                        method: "POST",

                        url: "/Feedback/SaveFeedback",

                        data: $scope.feedbackdata
                    }).success(function (data) {

                        if (data["msg"] == "Success") {
                            jQuery("#feedback-dialog .modal").modal("hide");
                            toastr.success(" Thanks for your feedback!", "Thank You.");
                            $scope.feedbackdata.musername = '';
                            $scope.feedbackdata.museremail = '';
                            $scope.feedbackdata.muserdescription = '';
                            $scope.MFSubmitted = false;
                        }
                        else {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Invalid Username or Password";
                            $scope.MFSubmitted = false;
                        }



                    }).error(function () {

                        alert('failed');

                    })
                }
            };

            $scope.$watchGroup(['feedbackform.$valid'], function (newVal) {
                $scope.Isfeedbackform = newVal;

            }, true);
            /**************************************************************************/

            }]);
        app.controller('LoginModalController', ['$rootScope', '$scope', '$http', '$cookies', '$window', '$timeout', 'LoginService', 'CommonLeaseTerm',
            function ($rootScope, $scope, $http, $cookies, $window, $timeout, LoginService, CommonLeaseTerm) {
                function PrintSingleItems(passdata) {
                    document.body.style.cursor = 'wait';
                    $scope.loader = true;
                    $scope.dataloading = true;

                    $http({
                        method: "POST",
                        url: "/Quotation/LoadSingleItemQuotation/",
                        data: { "muserid": $rootScope.muserid, "product": passdata }
                    }).success(function (data) {
                        //jQuery("#pdffile").val(data);
                        //jQuery("#quoteModal .modal-body #printf").attr('src',("/Content/temp/"+data));
                        jQuery("#printquoteModal .modal-body").html(data);
                        jQuery("#printquoteModal").modal("show");
                        //$scope.setActiveTab(1);
                        $scope.tabloading = false;
                        $scope.tabloading2 = false;
                        $scope.tabloading3 = false;
                        document.body.style.cursor = 'default';
                        $scope.loader = false;

                        jQuery("#leaseterm-dialog .modal .modal-body").unblock();
                    });

                }
                $rootScope.$on("OpenLoginModal", function (event, data, manufacturewarranty, repeat) {
                    jQuery("#login-dialog .modal").modal("show");
                    var datas = data;
                    $scope.forgetPassword = function () {
                        $scope.FSubmitted = true;

                        // alert("submit");
                        //if ($scope.IsLoginFormValid) {
                        $http.get('/api/UserApi/ForgetUser?email=' + $scope.recoverEmail).success(function (data) {

                            if (data["msg"] == "Success") {
                                $rootScope.IsUserLogedIn = false;
                                $scope.showforget = false;

                                $rootScope.showmsg = "Please check your registered email for forget password.";
                                $scope.invalidFlogin = "";
                                $scope.FSubmitted = false;
                            }
                            else {
                                $scope.IsFError = true;
                                $scope.invalidFlogin = "Invalid Username";
                                $scope.FSubmitted = false;
                            }

                            $scope.user = null;

                        }).error(function () {
                            $scope.FSubmitted = false;
                            alert('failed');

                        })
                        //}
                    };
                    $scope.$watchGroup(['insidelogin.$valid'], function (newVal) {
                        $scope.IsLoginFormValid = newVal;

                    }, true);
                    $scope.IsLoginFormValid = false;
                    $scope.InsideLogin = function () {

                        $scope.MenuLoginData.Captcha_Response = jQuery("#commoncaptcha").val(); //widgetId2;
                        $scope.MSubmitted = true;
                        if ($scope.IsLoginFormValid) {
                            $http({

                                method: "POST",

                                url: "/User/UserLogin",

                                data: $scope.MenuLoginData
                            }).success(function (data) {

                                if (data["msg"] == "Success") {
                                    $rootScope.IsUserLogedIn = true;
                                    toastr.success("Login successfully!", "Welcome");
                                    $rootScope.mschoolid = data["Data"].muid;
                                    $rootScope.muserid = data["Data"].muserid;
                                    $rootScope.musername = data["Data"].mname;
                                    $rootScope.musertype = data["Data"].musertype;
                                    $rootScope.morgname = data["Data"].morgname;
                                    var expireDate = new Date();
                                    expireDate.setDate(expireDate.getDate() + 1);
                                    $cookies.putObject('userdata', data["Data"], { 'expires': expireDate, 'path': '/' });
                                    //var dropdownMenu = jQuery(".header-icons .dropdown").children(".dropdown-menu");
                                    jQuery("#login-dialog .modal").modal("hide");
                                    jQuery(".header-icons .dropdown").removeClass("open");
                                    $rootScope.$emit("OpenQuoteModal", datas);
                                    $http.get('/api/QuotationApi/GetTotalNumberId?getid=' + $rootScope.mschoolid).success(function (data) {
                                        if (data.length > 0) {

                                            $rootScope.pendingorder = data[3];
                                        }
                                    });
                                    //$window.location.reload();
                                    //$scope.Message = "Successfully login done. Welcome " + data["Data"].mname;

                                }
                                else if (data["msg"] == "InvalidCaptcha") {
                                    $scope.IsError = true;
                                    $scope.invalidlogin = "Invalid Captcha or Expired.Please try again";
                                    $scope.MSubmitted = false;
                                }
                                else if (data["msg"] == "NotVerify") {
                                    $scope.IsError = true;
                                    $scope.invalidlogin = "Your account is not verified yet.<br/>Please check your email and verify account.";
                                    $scope.MSubmitted = false;
                                }
                                else if (data["msg"] == "NotActive") {
                                    $scope.IsError = true;
                                    $scope.invalidlogin = "Your account is under review.<br/>Please contact administrator.";
                                    $scope.MSubmitted = false;
                                }
                                else {
                                    $scope.IsError = true;
                                    $scope.invalidlogin = "Invalid Username or Password";
                                    $scope.MSubmitted = false;
                                }
                                grecaptcha.execute('6LfJV9MkAAAAAPJvDFy18GmUo_5oipfGR4umPwHd', { action: 'submit' }).then(function (token) {
                                    jQuery("textarea[id='commoncaptcha']").val(token);
                                });
                                //grecaptcha.reset();
                                $scope.user = null;

                            }).error(function () {

                                alert('failed');

                            })

                        }
                    };

                });
            }]);
        app.controller('AddToCartModalController', ['$rootScope', '$scope', '$http', '$cookies', '$window', '$timeout', 'LoginService','CommonLeaseTerm',
            function ($rootScope, $scope, $http, $cookies, $window, $timeout, LoginService, CommonLeaseTerm) {
                $scope.msupplierwarrantydata1 = [];
                $scope.msupplierwarrantydata2 = [];
                $scope.msupplierwarrantydata3 = [];
                $scope.msupplierwarrantydata4 = [];
                $scope.addontabloading = false;
                $scope.ExWarranty = 0;
                $scope.lastWarranty = 0;
                $scope.owlelement="";
                $scope.WarrantArr = 0;
                $scope.repeat = false;
                $scope.close = false;
                $scope.loader2 = false;
                $scope.terms = 0;
                $scope.termscheckwarn = false;
                $scope.classcnt = 0;
                var expireDate = new Date();
                expireDate.setDate(expireDate.getDate() + 365);
                $scope.minterm = 0;
                $scope.sizes = [{ code: 1, name: 'Monthly' }, { code: 3, name: 'Quarterly' }, { code: 4, name: 'Termly' }, { code: 6, name: 'Bi-annually' }, { code: 12, name: 'Annually' }]
                $scope.periods = [{ code: 60, name: '5 years' }, { code: 48, name: '4 years' }, { code: 36, name: '3 years' }, { code: 24, name: '2 years' }, { code: 12, name: '1 years' }]
                $scope.greaterThan = function (prop, val) {
                    return function (msupplierwarrantydata1) {

                        if (msupplierwarrantydata1[prop] <= val) return true;
                        else {

                            if (msupplierwarrantydata1[prop] == $scope.minterm)
                                return true;
                        }
                    }
                }
                $scope.Total = function (p) {
                    console.log(p);
                    return ((parseFloat(p.mprice) + parseFloat(p.wcart.mprice)) * p.mqty).toFixed(2);
                };
                $scope.updateterm = function (termfreq, item, termperiod) {
                    var freq = termfreq.code;
                    var period = termperiod.code;

                    item.mtermf = freq;
                    item.mtermp = period;
                    //item.mprice = (item.mbasicprice*freq)/(period*0.9);
                    item.mprice = CommonLeaseTerm.updateTerms(item.mbasicprice, item.mtermf, item.mtermp);
                    if (freq < 12) {
                        var p = CommonLeaseTerm.updateTerms(item.mbasicprice, 12, period);
                        item.dprice = CommonLeaseTerm.updatedprice(p, item.mprice, freq, period);
                    } else {
                        item.dprice = 0;
                    }
                }

                $scope.getTerms = function (mtermf, mtermp) {
                    var msg = "";
                    var p = "";
                    if (mtermp != null) {
                        p = mtermp / 12;
                    }
                    console.log(mtermf, mtermp);
                    switch (mtermf) {
                        case 1:
                            msg = p + " years monthly";
                            break;
                        case 3:
                            msg = p + " years quarterly";
                            break;
                        case 4:
                            msg = p + " years termly";
                            break;
                        case 6:
                            msg = p + " years bi-annually";
                            break;
                        case 12:
                            msg = p + " years annually";
                            break;
                        default:
                            msg = "";
                            break;

                    }
                    //item.mprice=5;
                    return msg;
                }
                $scope.getNewTerms = function (mtermf, mtermp) {
                    var msg = "";
                    var p = "";

                    switch (mtermf) {
                        case 1:
                            msg = p + " per month";
                            break;
                        case 3:
                            msg = p + " per quarter";
                            break;
                        case 4:
                            msg = p + " per term";
                            break;
                        case 6:
                            msg = p + " per bi-annual";
                            break;
                        case 12:
                            msg = p + " per annum";
                            break;
                        default:
                            msg = "";
                            break;

                    }
                    //item.mprice=5;
                    return msg;
                }
                $scope.addToCart = function ($event, item, no) {
                    console.log("item");
                    console.log(item);
                    if (no == 0 || no == "" || no == null) {
                        toastr.warning("Please enter quantity between 1 to 99", "Warning");
                        return false;
                    }
                    if (!angular.isUndefined($cookies.get('leasebasket'))) {
                        $scope.Session_Id = $cookies.getObject('leasebasket');
                        //$rootScope.shoppingCart =  $cookies.getObject('leasebasket');
                    }
                    var msg = true;
                    var moffer = (item.mofferdetail != null && item.mofferdetail != "") ? 1 : 0;
                    var lessitem = {
                        Session_Id: $scope.Session_Id,
                        mprodid: item.mprodid,
                        mprodvarid: item.mprodvarid,
                        mprodname: item.mprodname,
                        msubpicname: item.msubpicname,
                        msupplierid: item.msupplierid,
                        mprice: item.mprice,
                        mproducturl: item.mproducturl,
                        mtermf: item.mtermf,
                        mtermp: item.mtermp,
                        mqty: no,
                        moffer: moffer,
                        minstallationflag: item.minstallflag == 'yes' ? 1 : 0,
                        msupplierwarranty1: item.msupplierwarranty1,
                        msupplierwarranty2: item.msupplierwarranty2,
                        msupplierwarranty3: item.msupplierwarranty3,
                        msupplierwarranty4: item.msupplierwarranty4,
                        msupplierwarranty5: item.msupplierwarranty5,
                        warrantyexist: false,
                        subwarrantid: 0,
                    };
                    var items = { Product: lessitem, Quantity: no };

                    if ($rootScope.shoppingCart.length === 0) {
                        msg = false;
                        $rootScope.shoppingCart.push(items);
                        $scope.count = "showing " + $rootScope.shoppingCart.length + " results";
                    } else {
                        var repeat = false;
                        for (var i = 0; i < $rootScope.shoppingCart.length; i++) {
                            console.log($rootScope.shoppingCart[i].Product.mprodvarid);
                            if ($rootScope.shoppingCart[i].Product.mprodvarid === items.Product.mprodvarid && $rootScope.shoppingCart[i].Product.msupplierid === items.Product.msupplierid && $rootScope.shoppingCart[i].Product.mtermf === items.Product.mtermf && $rootScope.shoppingCart[i].Product.mtermp === items.Product.mtermp) {
                                repeat = true;
                                msg = false;
                                $rootScope.shoppingCart[i].Quantity += no;
                            }

                        }

                        if (!repeat) {
                            if (($rootScope.shoppingCart[0].Product.mtermf !== items.Product.mtermf || $rootScope.shoppingCart[0].Product.mtermp !== items.Product.mtermp) && $scope.sameval == 3) {
                                msg = true;
                                item.mtermf = $rootScope.shoppingCart[0].Product.mtermf;
                                item.mtermp = $rootScope.shoppingCart[0].Product.mtermp;
                                //item.mprice = (item.mbasicprice*item.mtermf)/(item.mtermp*0.9);
                                $scope.items = items;
                                $scope.confirmationDialogConfig = {
                                    title: "Warning!!!",
                                    message: "Lease term defined differs from that of previous item put in basket",
                                    buttons: [{
                                        label: "Proceed with this new lease term for this item",
                                        action: "yes",
                                        item: items,
                                        qty: no,
                                        event: ""
                                    }],
                                    buttons2: [{
                                        label: "Set to prev item lease terms (" + $scope.getTerms($rootScope.shoppingCart[0].Product.mtermf, $rootScope.shoppingCart[0].Product.mtermp) + ")",
                                        action: "no",
                                        item: item,
                                        qty: no,
                                        event: ""
                                    }]
                                };
                                if (jQuery($event.target).hasClass("ajax_add_to_cart")) {
                                    jQuery($event.target).addClass(items.Product.mprodvarid + "btny");

                                }
                                $scope.showDialog(true);

                            }
                            else {
                                msg = false;
                                $rootScope.shoppingCart.push(items);
                            }
                        }
                        $scope.count = "showing " + $rootScope.shoppingCart.length + " results";
                    }
                    console.log(items);
                    if (!msg) {
                        var d = [];
                        d.push(lessitem)
                        var datas = lessitem;
                        $scope.selectterm = datas.mtermp / 12;
                        /*if ((item.msupplierwarranty1 != 0 || item.msupplierwarranty2 != 0 || item.msupplierwarranty3 != 0 || item.msupplierwarranty4 != 0 || item.msupplierwarranty5 != 0) && (item.mtermp > (item.manufacturewarranty * 12)) && repeat != true) {
                            $rootScope.$emit("OpenCartModal", datas, item.manufacturewarranty, repeat);

                        } else {*/
                            if ($rootScope.shoppingCart.length !== 0 && repeat == true) {
                                $http.post("/api/CookieApi/UpdateCookieCart", datas).success(function (data, status) {

                                    if (data.length > 0 && data[0] == "Success") {
                                        $scope.loader = false;
                                        $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });
                                        $scope.total += parseFloat(items.Product.mprice);

                                        $scope.count = "showing " + data.length + " results";
                                        jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                                        $scope.loader = true;
                                        toastr.success("Product added in Your Basket", "Success");

                                        //window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=yes";
                                    }

                                });

                            } else {
                                $http.post("/api/CookieApi/SaveCookieCart", datas).success(function (data, status) {

                                    if (data.length > 0 && (data[0] == "Success" || data[0]=="Successwithaddon")) {
                                        $scope.loader = false;
                                        if (angular.isUndefined($cookies.get('leasebasket'))) {
                                            $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });

                                        }
                                        //$rootScope.shoppingCart = $cookies.getObject('leasebasket');

                                        $scope.total += parseFloat(items.Product.mprice);

                                        $scope.count = "showing " + data.length + " results";
                                        jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                                        //$rootScope.shoppingCart.push({ item, no });
                                        $scope.loader = true;
                                        //window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=no";
                                        toastr.success("Product added in Your Basket", "Success");

                                    }

                                });

                            }
                        //}
                    }
                    else {
                        $event.stopPropagation();

                    }
                };
                $scope.getNewTerms = function (mtermf, mtermp) {
                    var msg = "";
                    var p = "";

                    switch (mtermf) {
                        case 1:
                            msg = p + " per month";
                            break;
                        case 3:
                            msg = p + " per quarter";
                            break;
                        case 4:
                            msg = p + " per term";
                            break;
                        case 6:
                            msg = p + " per bi-annual";
                            break;
                        case 12:
                            msg = p + " per annum";
                            break;
                        default:
                            msg = "";
                            break;

                    }
                    //item.mprice=5;
                    return msg;
                }

                jQuery("#addedtocart-modal").on('hidden.bs.modal', function () {
                    console.log($scope.owlelement);
                    $$owl=jQuery('body').find('#addonowl');
                    $$owl.trigger('destroy.owl.carousel').removeClass('owl-loaded');
                    $$owl.find('.owl-stage-outer').children().unwrap();

                    //jQuery($scope.owlelement).data('owlCarousel').destroy();
                });
                $rootScope.$on("OpenAddedToCartModal", function (event, data, addon, repeat) {
                    $scope.GetOfferProductDatas = data;
                    $scope.leaseTerms = {
                        title: "Get Comparative Quotes",
                        ProdName: '',
                        WarrantyTerm: $scope.manuwarrantterm,
                        Products: $scope.GetOfferProductDatas,
                        lastwarranty: $scope.lastWarranty,
                        buttons: [{
                            label: "Yes",
                            action: "SaveOrder",
                            item: '',
                            qty: 1,
                            event: 0,
                        }]

                    };

                    $scope.product = $scope.leaseTerms.Products;
                    //$scope.addonproducts=
                    console.log("AddonProduct");
                    console.log(data);
                    $scope.owlOptionsTestimonials = {

                        nav: true,
                        slideSpeed: 300,
                        dots: true,
                        rtl: false,
                        autoplay: false,

                        paginationSpeed: 400,
                        navText: ['&#8249;', '&#8250;'],
                        margin: 0,
                        rewind: true,
                        touchDrag: true,
                        loop: true,
                        responsive: {
                            0: {
                                items: 1,
                                loop: (jQuery('.item').length > 2)
                            },
                            350: {
                                items: 2,
                                loop: (jQuery('.item').length > 2)
                            },
                            576: {
                                items: 2,
                                loop: (jQuery('.item').length > 3)
                            },
                            768: {
                                items: 2,
                                loop: (jQuery('.item').length > 2)
                            },
                            992: {
                                items: 3,
                                loop: (jQuery('.item').length > 3)
                            },
                            1200: {
                                items: 4,
                                loop: (jQuery('.owl-item').length > 4)
                            },
                            1480: {
                                items: 5, margin: 0,
                                loop: (jQuery('.owl-item').length > 5)
                            }
                        },

                    }
                    function getaddonproduct() {
                        $scope.addontabloading = true;
                        $http.get('/Api/ProductApi/GetAddOnProductById?getid=' + $scope.product.mprodid).success(function (data2) {
                            for (var i = 0; i < data2.length; i++) {
                                //data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);
                                data2[i].mprice = CommonLeaseTerm.updateTerms(data2[i].mbasicprice, 1, 60);
                            }
                            $scope.Related = data2;
                        });
                            }
                    jQuery.when(getaddonproduct()).done(function (a1, a2, a3, a4) {
                            jQuery("#addedtocart-modal").modal({
                                backdrop: 'static',
                                keyboard: false,
                                "show": true
                            });
                        $timeout(function () {
                            $scope.addontabloading = false;
                        });
                        $scope.PrintSingleItem = function (obj, qty) {
                            var lessitem = {
                                Session_Id: "",
                                mprodid: obj.mprodid,
                                mprodvarid: obj.mprodvarid,
                                mprodname: obj.mprodname,
                                msubpicname: obj.msubpicname,
                                msupplierid: obj.msupplierid,
                                mproducturl: obj.mproducturl,
                                mprice: obj.mprice,
                                mtermf: obj.mtermf,
                                mtermp: obj.mtermp,
                                mqty: qty,
                            };
                            $scope.passdata = lessitem;
                            jQuery("#leaseterm-dialog .modal .modal-body").block({
                                message: '<h6>Please wait..</h6>'
                            });

                            if ($scope.userid || $rootScope.IsUserLogedIn) {
                                $rootScope.$emit("OpenQuoteModal", $scope.passdata);

                            }
                            else {
                                jQuery("#leaseterm-dialog .modal .modal-body").unblock();
                                $rootScope.$emit("OpenLoginModal", $scope.passdata);

                            }

                        };
                    });
                    $scope.greaterThan = function (prop, val) {
                        return function (msupplierwarrantydata1) {

                            if (msupplierwarrantydata1[prop] <= val) return true;
                            else {

                                if (msupplierwarrantydata1[prop] == $scope.minterm)
                                    return true;
                            }
                        }
                    }
                    $scope.Total = function (p) {
                        console.log(p);
                        return ((parseFloat(p.mprice) + parseFloat(p.wcart.mprice)) * p.mqty).toFixed(2);
                    };
                    $scope.updateterm = function (termfreq, item, termperiod) {
                        var freq = termfreq.code;
                        var period = termperiod.code;

                        item.mtermf = freq;
                        item.mtermp = period;
                        //item.mprice = (item.mbasicprice*freq)/(period*0.9);
                        item.mprice = CommonLeaseTerm.updateTerms(item.mbasicprice, item.mtermf, item.mtermp);
                        if (freq < 12) {
                            var p = CommonLeaseTerm.updateTerms(item.mbasicprice, 12, period);
                            item.dprice = CommonLeaseTerm.updatedprice(p, item.mprice, freq, period);
                        } else {
                            item.dprice = 0;
                        }
                    }

                    $scope.getTerms = function (mtermf, mtermp) {
                        var msg = "";
                        var p = "";
                        if (mtermp != null) {
                            p = mtermp / 12;
                        }
                        console.log(mtermf, mtermp);
                        switch (mtermf) {
                            case 1:
                                msg = p + " years monthly";
                                break;
                            case 3:
                                msg = p + " years quarterly";
                                break;
                            case 4:
                                msg = p + " years termly";
                                break;
                            case 6:
                                msg = p + " years bi-annually";
                                break;
                            case 12:
                                msg = p + " years annually";
                                break;
                            default:
                                msg = "";
                                break;

                        }
                        //item.mprice=5;
                        return msg;
                    }
                    $scope.getNewTerms = function (mtermf, mtermp) {
                        var msg = "";
                        var p = "";

                        switch (mtermf) {
                            case 1:
                                msg = p + " per month";
                                break;
                            case 3:
                                msg = p + " per quarter";
                                break;
                            case 4:
                                msg = p + " per term";
                                break;
                            case 6:
                                msg = p + " per bi-annual";
                                break;
                            case 12:
                                msg = p + " per annum";
                                break;
                            default:
                                msg = "";
                                break;

                        }
                        //item.mprice=5;
                        return msg;
                    }
                    $scope.AddTocart = function ($event, item, no) {
                        console.log("item");
                        console.log(item);
                        if (no == 0 || no == "" || no == null) {
                            toastr.warning("Please enter quantity between 1 to 99", "Warning");
                            return false;
                        }
                        if (!angular.isUndefined($cookies.get('leasebasket'))) {
                            $scope.Session_Id = $cookies.getObject('leasebasket');
                            //$rootScope.shoppingCart =  $cookies.getObject('leasebasket');
                        }
                        var msg = true;
                        var moffer = (item.mofferdetail != null && item.mofferdetail != "") ? 1 : 0;
                        var lessitem = {
                            Session_Id: $scope.Session_Id,
                            mprodid: item.mprodid,
                            mprodvarid: item.mprodvarid,
                            mprodname: item.mprodname,
                            msubpicname: item.msubpicname,
                            msupplierid: item.msupplierid,
                            mprice: item.mprice,
                            mproducturl: item.mproducturl,
                            mtermf: item.mtermf,
                            mtermp: item.mtermp,
                            mqty: no,
                            moffer: moffer,
                            minstallationflag: item.minstallflag == 'yes' ? 1 : 0,
                            msupplierwarranty1: item.msupplierwarranty1,
                            msupplierwarranty2: item.msupplierwarranty2,
                            msupplierwarranty3: item.msupplierwarranty3,
                            msupplierwarranty4: item.msupplierwarranty4,
                            msupplierwarranty5: item.msupplierwarranty5,
                            warrantyexist: false,
                            subwarrantid: 0,
                        };
                        var items = { Product: lessitem, Quantity: no };

                        if ($rootScope.shoppingCart.length === 0) {
                            msg = false;
                            $rootScope.shoppingCart.push(items);
                            $scope.count = "showing " + $rootScope.shoppingCart.length + " results";
                        } else {
                            var repeat = false;
                            for (var i = 0; i < $rootScope.shoppingCart.length; i++) {
                                console.log($rootScope.shoppingCart[i].Product.mprodvarid);
                                if ($rootScope.shoppingCart[i].Product.mprodvarid === items.Product.mprodvarid && $rootScope.shoppingCart[i].Product.msupplierid === items.Product.msupplierid && $rootScope.shoppingCart[i].Product.mtermf === items.Product.mtermf && $rootScope.shoppingCart[i].Product.mtermp === items.Product.mtermp) {
                                    repeat = true;
                                    msg = false;
                                    $rootScope.shoppingCart[i].Quantity += no;
                                }

                            }

                            if (!repeat) {
                                if (($rootScope.shoppingCart[0].Product.mtermf !== items.Product.mtermf || $rootScope.shoppingCart[0].Product.mtermp !== items.Product.mtermp) && $scope.sameval == 3) {
                                    msg = true;
                                    item.mtermf = $rootScope.shoppingCart[0].Product.mtermf;
                                    item.mtermp = $rootScope.shoppingCart[0].Product.mtermp;
                                    //item.mprice = (item.mbasicprice*item.mtermf)/(item.mtermp*0.9);
                                    $scope.items = items;
                                    $scope.confirmationDialogConfig = {
                                        title: "Warning!!!",
                                        message: "Lease term defined differs from that of previous item put in basket",
                                        buttons: [{
                                            label: "Proceed with this new lease term for this item",
                                            action: "yes",
                                            item: items,
                                            qty: no,
                                            event: ""
                                        }],
                                        buttons2: [{
                                            label: "Set to prev item lease terms (" + $scope.getTerms($rootScope.shoppingCart[0].Product.mtermf, $rootScope.shoppingCart[0].Product.mtermp) + ")",
                                            action: "no",
                                            item: item,
                                            qty: no,
                                            event: ""
                                        }]
                                    };
                                    if (jQuery($event.target).hasClass("ajax_add_to_cart")) {
                                        jQuery($event.target).addClass(items.Product.mprodvarid + "btny");

                                    }
                                    $scope.showDialog(true);

                                }
                                else {
                                    msg = false;
                                    $rootScope.shoppingCart.push(items);
                                }
                            }
                            $scope.count = "showing " + $rootScope.shoppingCart.length + " results";
                        }
                        console.log(items);
                        if (!msg) {
                            var d = [];
                            d.push(lessitem)
                            var datas = lessitem;
                            $scope.selectterm = datas.mtermp / 12;
                            /*if ((item.msupplierwarranty1 != 0 || item.msupplierwarranty2 != 0 || item.msupplierwarranty3 != 0 || item.msupplierwarranty4 != 0 || item.msupplierwarranty5 != 0) && (item.mtermp > (item.manufacturewarranty * 12)) && repeat != true) {
                                $rootScope.$emit("OpenCartModal", datas, item.manufacturewarranty, repeat);

                            } else {*/
                            if ($rootScope.shoppingCart.length !== 0 && repeat == true) {
                                $http.post("/api/CookieApi/UpdateCookieCart", datas).success(function (data, status) {

                                    if (data.length > 0 && data[0] == "Success") {
                                        $scope.loader = false;
                                        $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });
                                        $scope.total += parseFloat(items.Product.mprice);

                                        $scope.count = "showing " + data.length + " results";
                                        jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                                        $scope.loader = true;
                                        toastr.success("Product added in Your Basket", "Success");

                                        //window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=yes";
                                    }

                                });

                            } else {
                                $http.post("/api/CookieApi/SaveCookieCart", datas).success(function (data, status) {

                                    if (data.length > 0 && (data[0] == "Success" || data[0] == "Successwithaddon")) {
                                        $scope.loader = false;
                                        if (angular.isUndefined($cookies.get('leasebasket'))) {
                                            $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });

                                        }
                                        //$rootScope.shoppingCart = $cookies.getObject('leasebasket');

                                        $scope.total += parseFloat(items.Product.mprice);

                                        $scope.count = "showing " + data.length + " results";
                                        jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                                        //$rootScope.shoppingCart.push({ item, no });
                                        $scope.loader = true;
                                        //window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=no";
                                        toastr.success("Product added in Your Basket", "Success");

                                    }

                                });

                            }
                            //}
                        }
                        else {
                            $event.stopPropagation();

                        }
                    };
                    $scope.getNewTerms = function (mtermf, mtermp) {
                        var msg = "";
                        var p = "";

                        switch (mtermf) {
                            case 1:
                                msg = p + " per month";
                                break;
                            case 3:
                                msg = p + " per quarter";
                                break;
                            case 4:
                                msg = p + " per term";
                                break;
                            case 6:
                                msg = p + " per bi-annual";
                                break;
                            case 12:
                                msg = p + " per annum";
                                break;
                            default:
                                msg = "";
                                break;

                        }
                        //item.mprice=5;
                        return msg;
                    }

                });
                $rootScope.$on("OpenCartModal", function (event, data, manufacturewarranty, repeat) {
                    $scope.productdata = data;
                    $scope.repeat = repeat;
                    $scope.msupplierwarrantydata1 = [];
                    $scope.msupplierwarrantydata2 = [];
                    $scope.msupplierwarrantydata3 = [];
                    $scope.msupplierwarrantydata4 = [];
                    $scope.msupplierwarrantydata5 = [];
                    $scope.classcnt = 0;
                    $scope.WarrantArr = 0;

                    $scope.ExWarranty = 0;
                    $scope.lastWarranty = 0;
                    $scope.showtermwarn = false;
                    $scope.manuwarrantterm = (manufacturewarranty == 5 ? 'FIVE' : manufacturewarranty == 4 ? 'FOUR' : manufacturewarranty == 3 ? 'THREE' : manufacturewarranty == 2 ? 'TWO' : 'ONE');
                    $scope.selectterm = data.mtermp / 12;
                    $scope.minterm = 0;
                    function abc() {
                        if (data.msupplierwarranty1 != 0) {
                            $scope.lastWarranty = 1;
                            jQuery("input[rdname=1]").prop("checked", true);
                            if ($scope.minterm == 0) $scope.minterm = 1;
                            jQuery.ajax({
                                url: "/api/WarrantyApi/GetWarrantyDetails?msupplierwarranty1=" + data.msupplierwarranty1,
                                async: false,
                                success:(function(data2, status) {
                                    if (data2 != "") {
                                        var len = data2.length;
                                        /*if (manufacturewarranty > 1) {
                                            len = (len + 1) - manufacturewarranty;
                                        }*/
                                        for (var i = 0; i < len; i++) {
                                            ///data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);

                                            data2[i].warrantyprice = CommonLeaseTerm.updateTerms(data2[i].warrantyprice, data.mtermf, data.mtermp);
                                            //if (data2[i].warrantyterm == ((data.mtermp / 12) - 1)) {
                                            $scope.ExWarranty = data2[i].subwarrantid;
                                            $scope.WarrantArr = 1;
                                            //}
                                            $scope.msupplierwarrantydata1.push(data2[i]);
                                        }

                                        //$scope.$digest();
                                        $scope.classcnt = $scope.classcnt + 1;
                                    }
                                })

                            });

                        }
                        if (data.msupplierwarranty2 != 0) {
                            $scope.lastWarranty = 2;
                            jQuery("input[rdname=2]").prop("checked", true);
                            if ($scope.minterm == 0) $scope.minterm = 2;
                            jQuery.ajax({
                                url: "/api/WarrantyApi/GetWarrantyDetails?msupplierwarranty1=" + data.msupplierwarranty2,
                                async: false,
                                success: (function (data2, status) {
                                    if (data2 != "") {
                                        var len = data2.length;
                                        /*if (manufacturewarranty > 1) {
                                            len = (len + 1) - manufacturewarranty;
                                        }*/
                                        for (var i = 0; i < len; i++) {
                                            ///data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);
                                            data2[i].warrantyprice = CommonLeaseTerm.updateTerms(data2[i].warrantyprice, data.mtermf, data.mtermp);
                                            //if (data2[i].warrantyterm == ((data.mtermp / 12) - 1)) {
                                            $scope.ExWarranty = data2[i].subwarrantid;
                                            $scope.WarrantArr = 2;
                                            //}
                                            $scope.msupplierwarrantydata2.push(data2[i]);
                                        }

                                        //$scope.$digest();
                                        $scope.classcnt = $scope.classcnt + 1;
                                    }
                                })

                            });

                        }
                        if (data.msupplierwarranty3 != 0) {
                            $scope.lastWarranty = 3;
                            jQuery("input[rdname=3]").prop("checked", true);
                            if ($scope.minterm == 0) $scope.minterm = 3;
                            jQuery.ajax({
                                url: "/api/WarrantyApi/GetWarrantyDetails?msupplierwarranty1=" + data.msupplierwarranty3,
                                async: false,
                                success: (function (data2, status) {
                                    if (data2 != "") {
                                        var len = data2.length;
                                        /*if (manufacturewarranty > 1) {
                                            len = (len + 1) - manufacturewarranty;
                                        }*/
                                        for (var i = 0; i < len; i++) {
                                            ///data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);
                                            data2[i].warrantyprice = CommonLeaseTerm.updateTerms(data2[i].warrantyprice, data.mtermf, data.mtermp);
                                            //if (data2[i].warrantyterm == ((data.mtermp / 12) - 1)) {
                                            $scope.ExWarranty = data2[i].subwarrantid;
                                            $scope.WarrantArr = 3;
                                            //}
                                            $scope.msupplierwarrantydata3.push(data2[i]);
                                        }

                                        $scope.classcnt = $scope.classcnt + 1;
                                    }
                                })

                            });

                        }
                        if (data.msupplierwarranty4 != 0 && ($scope.lastWarranty == 0 || $scope.selectterm >= 4 || ($scope.lastwarranty != 0 && $scope.lastWarranty < $scope.selectterm))) {
                            $scope.lastWarranty = 4;
                            jQuery("input[rdname=4]").prop("checked", true);
                            if ($scope.minterm >= 0) $scope.minterm = 4;
                            jQuery.ajax({
                                url: "/api/WarrantyApi/GetWarrantyDetails?msupplierwarranty1=" + data.msupplierwarranty4,
                                async: false,
                                success: (function (data2, status) {
                                    if (data2 != "") {
                                        var len = data2.length;
                                        /*if (manufacturewarranty > 1) {
                                            len = (len + 1) - manufacturewarranty;
                                        }*/
                                        for (var i = 0; i < len; i++) {
                                            ///data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);
                                            data2[i].warrantyprice = CommonLeaseTerm.updateTerms(data2[i].warrantyprice, data.mtermf, data.mtermp);
                                            //if (data2[i].warrantyterm == ((data.mtermp / 12) - 1)) {
                                            $scope.ExWarranty = data2[i].subwarrantid;
                                            $scope.WarrantArr = 4;
                                            //}
                                            $scope.msupplierwarrantydata4.push(data2[i]);
                                        }

                                        console.log("ls" + $scope.lastWarranty);

                                        $scope.classcnt = $scope.classcnt + 1;
                                    }
                                })

                            });

                        }
                        if (data.msupplierwarranty5 != 0 && ($scope.lastWarranty == 0 || $scope.selectterm >= 5 || ($scope.lastwarranty != 0 && $scope.lastWarranty < $scope.selectterm))) {
                            $scope.lastWarranty = 5;
                            jQuery("input[rdname=5]").prop("checked", true);
                            if ($scope.minterm >= 0) $scope.minterm = 5;
                            jQuery.ajax({
                                url: "/api/WarrantyApi/GetWarrantyDetails?msupplierwarranty1=" + data.msupplierwarranty5,
                                async: false,
                                success: (function (data2, status) {
                                    if (data2 != "") {
                                        var len = data2.length;
                                        /*if (manufacturewarranty > 1) {
                                            len = (len + 1) - manufacturewarranty;
                                        }*/
                                        for (var i = 0; i < len; i++) {
                                            ///data[i].mprice=((data[i].mprice*1)/(60*0.9)).toFixed(2);
                                            data2[i].warrantyprice = CommonLeaseTerm.updateTerms(data2[i].warrantyprice, data.mtermf, data.mtermp);
                                            //if (data2[i].warrantyterm == ((data.mtermp / 12) - 1)) {
                                            $scope.ExWarranty = data2[i].subwarrantid;
                                            $scope.WarrantArr = 5;
                                            //}
                                            $scope.msupplierwarrantydata5.push(data2[i]);
                                        }

                                        $scope.classcnt = $scope.classcnt + 1;
                                    }
                                })
                            });


                        }

                    }

                    $scope.showdetail = function (id) {
                        $scope.loader2 = true;
                        jQuery("#warrantydetailmodal").find('.modal-body').load('@Url.Action("PartialWarrantyModal", "Leasing", new { area = "" })?wid=' + id,
                            function (response, status, xhr) {
                                /* do something cool */

                                $scope.loader2 = false;
                                $scope.$digest();
                                jQuery('#warrantydetailmodal').modal({
                                    backdrop: 'static',
                                    keyboard: false,
                                    "show": true
                                })


                            });



                    }
                    $scope.AddTocart = function (i,btn) {
                datas = $scope.GetOfferProductDatas;
                if (i == 0) {
                    /*if ($scope.terms != 1 && btn=="yes") {
                        $scope.termscheckwarn = true;
                        return false;
                    }*/
                    $scope.close = true;

                } else {

                    if ($scope.ExWarranty == 0) {
                        alert("Select at least one ex warranty");
                        return false;
                    } /*else if ($scope.terms != 1) {
                        $scope.termscheckwarn = true;
                        return false;
                    }*/ else {
                        $scope.close = true;
                        datas = $scope.GetOfferProductDatas;
                        datas.warrantyexist = true;
                        var w = [];
                        if ($scope.WarrantArr == 1) {
                            $scope.msupplierwarrantydata1.forEach(function (value, key) {
                                if (value.subwarrantid == $scope.ExWarranty) {
                                    w = value;
                                }
                            });
                        } else if ($scope.WarrantArr == 2) {
                            $scope.msupplierwarrantydata2.forEach(function (value, key) {
                            if (value.subwarrantid == $scope.ExWarranty) {

                                w = value;
                            }
                        });
                        } else if ($scope.WarrantArr == 3){
                    $scope.msupplierwarrantydata3.forEach(function (value, key) {
                        if (value.subwarrantid == $scope.ExWarranty) {

                            w = value;
                        }
                    });
                        }
                        else if ($scope.WarrantArr == 4){
                            $scope.msupplierwarrantydata4.forEach(function (value, key) {
                                if (value.subwarrantid == $scope.ExWarranty) {

                                    w = value;
                                }
                            });
                        }
                            else{
                            $scope.msupplierwarrantydata5.forEach(function (value, key) {
                                if (value.subwarrantid == $scope.ExWarranty) {

                                    w = value;
                                }
                            });
                        }
                        var lessitem = {
                        mprodname: w.warrantyterm + " years " + w.WarrantyTitle,
                            msupplierid: data.msupplierid,
                            mprice: Number(w.warrantyprice),
                            mtermf: data.mtermf,
                            mtermp: w.warrantyterm * 12,
                            mqty: 1,

                        };
                        datas.wcart = lessitem;
                        datas.subwarrantid = $scope.ExWarranty;
                        //console.log(datas);
                    }

                }
                if ($rootScope.shoppingCart.length !== 0 && $scope.repeat == true) {
                    $scope.loader2 = true;

                    $http.post("/api/CookieApi/UpdateCookieCart", datas).success(function (data, status) {

                        if (data.length > 0 && (data[0] == "Success" || data[0] == "Successwithaddon")) {
                            $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });
                            //$scope.total += parseFloat(items.Product.mprice);

                            //$scope.count = "showing " + data.length + " results";
                            //jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                            $scope.loader2 = false;
                            $scope.msupplierwarrantydata1 = [];
                            $scope.msupplierwarrantydata2 = [];
                            $scope.msupplierwarrantydata3 = [];
                            $scope.msupplierwarrantydata4 = [];
                            $scope.msupplierwarrantydata5 = [];
                            jQuery("#addtocart-modal").modal("hide");
                            // window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=yes";
                            if (data[0] == "Successwithaddon") {
                                $rootScope.$emit("OpenAddedToCartModal", datas, manufacturewarranty, repeat);
                            } else {

                                toastr.success("Product added in Your Basket", "Success");
                            }
                        }

                    });

                } else {
                    $scope.loader2 = true;

                    $http.post("/api/CookieApi/SaveCookieCart", datas).success(function (data, status) {

                        if (data.length > 0 && (data[0] == "Success" || data[0] =="Successwithaddon")) {
                            if (angular.isUndefined($cookies.get('leasebasket'))) {
                                $cookies.putObject('leasebasket', data[1], { 'expires': expireDate, 'path': '/' });

                            }
                            $scope.msupplierwarrantydata1 = [];
                            $scope.msupplierwarrantydata2 = [];
                            $scope.msupplierwarrantydata3 = [];
                            $scope.msupplierwarrantydata4 = [];
                            $scope.msupplierwarrantydata5 = [];
                            $scope.lastWarranty = 0;
                            //$rootScope.shoppingCart = $cookies.getObject('leasebasket');


                            //$scope.total += parseFloat(items.Product.mprice);

                            //$scope.count = "showing " + data.length + " results";
                            //$rootScope.$emit("OpenCartModal", datas);
                            //jQuery(".added_to_cart.wc-forward").data("original-title", "View Your Basket");
                            //$rootScope.shoppingCart.push({ item, no });
                            jQuery("#addtocart-modal").modal("hide");
                            $scope.loader2 = false;
                            //window.location="/Leasing/ViewProduct?"+item.mproducturl+"&update=no";
                            if (data[0] == "Successwithaddon") {
                                $rootScope.$emit("OpenAddedToCartModal", datas, manufacturewarranty, repeat);
                            } else {

                                toastr.success("Product added in Your Basket", "Success");
                            }
                        }

                    });

                }
                    }
                    $scope.PrintSingleItem = function (obj, qty) {
                        var lessitem = {
                            Session_Id: "",
                            mprodid: obj.mprodid,
                            mprodvarid: obj.mprodvarid,
                            mprodname: obj.mprodname,
                            msubpicname: obj.msubpicname,
                            msupplierid: obj.msupplierid,
                            mproducturl: obj.mproducturl,
                            mprice: obj.mprice,
                            mtermf: obj.mtermf,
                            mtermp: obj.mtermp,
                            mqty: qty,
                        };
                        $scope.passdata = lessitem;
                        jQuery("#leaseterm-dialog .modal .modal-body").block({
                            message: '<h6>Please wait..</h6>'
                        });

                        if ($scope.userid || $rootScope.IsUserLogedIn) {
                            $rootScope.$emit("OpenQuoteModal", $scope.passdata);

                        }
                        else {
                            jQuery("#leaseterm-dialog .modal .modal-body").unblock();
                            $rootScope.$emit("OpenLoginModal", $scope.passdata);

                        }

                    };
                    jQuery.when(abc()).done(function (a1, a2, a3, a4) {
                        if ($scope.classcnt == 0) {
                          $scope.GetOfferProductDatas = data;
                            $scope.AddTocart(0, 'no');
                        } else {
                            $scope.GetOfferProductDatas = data;
                            $scope.product = [];
                            $scope.updateWarrantArr = function (i, j, currentterm, lastterm) {
                                $scope.WarrantArr = i;
                                $scope.ExWarranty = j;
                                console.log(currentterm, lastterm);
                                if (currentterm < lastterm) {
                                    $scope.showtermwarn = true;
                                } else {
                                    $scope.showtermwarn = false;
                                }
                            };

                            $scope.leaseTerms = {
                                title: "Get Comparative Quotes",
                                ProdName: '',
                                WarrantyTerm: $scope.manuwarrantterm,
                                Products: $scope.GetOfferProductDatas,
                                lastwarranty: $scope.lastWarranty,
                                buttons: [{
                                    label: "Yes",
                                    action: "SaveOrder",
                                    item: '',
                                    qty: 1,
                                    event: 0,
                                }]

                            };

                            $scope.product = $scope.leaseTerms.Products;
                            console.log($scope.leaseTerms);

                        jQuery("#addtocart-modal").modal({
                                backdrop: 'static',
                                keyboard: false,
                                "show": true
                            });
                            jQuery("#addtocart-modal").on('hidden.bs.modal', function () {
                                jQuery("#addedtocart-modal").css("overflow-y", "scroll");
                                if (!$scope.close) {
                                    $scope.AddTocart(0, 'no');
                                }
                            });
                        }

                    });


                });
                $rootScope.$on("OpenQuoteModal", function (event, data) {
                    function abc() {
                        document.body.style.cursor = 'wait';
                        $rootScope.loader = true;
                        $scope.dataloading = true;
                        $http({
                            method: "POST",
                            async: false,
                            url: "/Quotation/LoadSingleItemQuotation/",
                            data: { "muserid": $rootScope.muserid, "product": data }
                        }).success(function (data) {
                            jQuery("#printquoteModal .modal-body").html(data);
                            //$scope.setActiveTab(1);
                            jQuery("#printquoteModal").modal({
                                backdrop: 'static',
                                keyboard: false,
                                "show": true
                            });

                        });
                    }

                    jQuery.when(abc()).done(function (a1, a2, a3, a4) {

                        $scope.dataloading = false;
                        document.body.style.cursor = 'default';
                        $rootScope.loader = false;
                        //jQuery(".se-pre-con").hide();
                        jQuery("#leaseterm-dialog .modal .modal-body").unblock();
                        jQuery("#printquoteModal").on('hidden.bs.modal', function () {
                                jQuery("#addedtocart-modal").css("overflow-y", "scroll");

                            });
                     })
                });
            }]);
        app.controller('MenuController', ['$rootScope', '$scope', '$http', '$cookies', '$window','$timeout','LoginService',
        function ($rootScope, $scope, $http, $cookies, $window,$timeout,LoginService) {
            $rootScope.musername = "";
            $rootScope.savequote = 0;
            $rootScope.muserid = 0;
            $rootScope.morgname = "";
            $rootScope.pendingorder = 0;

            $rootScope.IsUserLogedIn = false;
            $scope.showforget = false;
            $scope.recoverEmail = "";

            if (!angular.isUndefined($cookies.get('userdata'))) {
                var userdatas = $cookies.getObject('userdata');

                $rootScope.IsUserLogedIn = true;
                $rootScope.muserid = userdatas.muserid;
                $rootScope.musername = userdatas.mname;
                $rootScope.mschoolid = userdatas.muid;
                $rootScope.musertype = userdatas.musertype;
                $rootScope.morgname = userdatas.morgname;

                console.log($rootScope.morgname);
                $http.get('/api/QuotationApi/GetTotalNumberId?getid=' + $rootScope.mschoolid).success(function (data) {
                    if (data.length > 0) {

                        $rootScope.pendingorder = data[3];
                    }
                });

            }
            else {
                $rootScope.IsUserLogedIn = false;
                $rootScope.muserid = 0;

            }
            $scope.category = 0;
            var c23 = '@ViewBag.Category';
            if (c23 != null && c23 != '') {
                $scope.category = '@ViewBag.Category';

            }
            $scope.IsLoginFormValid = false;
            $scope.MSubmitted = false;
            $scope.SiteMenu = [];
            $scope.IsError = false;
            $scope.invalidlogin = "";
            $scope.FSubmitted =false;

            $http.get('/api/HomeApi/GelAllMainCategories').success(function (data) {
                $scope.SiteMenu = data;

                if (c23 != null && c23 != '') {
                    $scope.category = '@ViewBag.Category';
                    jQuery.each(data, function (i, item) {
                        if (item.mprodcatid == $scope.category) {
                            var c = item.mcatname;
                            console.log(item.mprodcatid);

                            var d = jQuery("#demo").html(c);
                            var e = d.width();
                            console.log(d.width());
                            jQuery("#product_cat").css("width", e + 60);

                        }
                    });
                    //jQuery("#product_cat").val($scope.category);
                }
                jQuery('#menuwrapper ul').children('li').on('mouseover', function () {
                    var $menuItem = jQuery(this),
                        $submenuWrapper = jQuery('> ul', $menuItem);

                    console.log($menuItem, $submenuWrapper);

                    // grab the menu item's position relative to its positioned parent
                    var menuItemPos = $menuItem.position();

                    // place the submenu in the correct position relevant to the menu item
                    $submenuWrapper.css({
                        top: menuItemPos.top,
                        left: menuItemPos.left + Math.round($menuItem.outerWidth())
                    });

                });
            });
            $scope.$watchGroup(['menulogin.$valid', 'mobilemenulogin.$valid','forgetpwd.$valid'], function (newVal) {
                $scope.IsLoginFormValid = newVal;


            }, true);
            $scope.forgetPassword = function () {
                $scope.FSubmitted = true;
               // alert("submit");
                //if ($scope.IsLoginFormValid) {
                $http.get('/api/UserApi/ForgetUser?email=' + $scope.recoverEmail).success(function (data) {

                        if (data["msg"] == "Success") {
                            $rootScope.IsUserLogedIn = false;
                            $scope.showforget = false;

                            $rootScope.showmsg = "Please check your registered email for forget password.";
                            $scope.invalidFlogin = "";
                            $scope.FSubmitted = false;
                        }
                        else {
                            $scope.IsFError = true;
                            $scope.invalidFlogin = "Invalid Username";
                            $scope.FSubmitted = false;
                        }

                        $scope.user = null;

                    }).error(function () {
                        $scope.FSubmitted = false;
                        alert('failed');

                    })
                //}
            };
            $scope.MenuLoginData = {
                museridemail: '',
                mpwd: '',
                Captcha_Response:''
            };
            $scope.MenuLogin = function () {
                $scope.MenuLoginData.Captcha_Response = jQuery("#commoncaptcha").val(); //widgetId1; //jQuery("#g-recaptcha-response").val();
                $scope.MSubmitted = true;
                if ($scope.IsLoginFormValid) {
                    $http({

                        method: "POST",

                        url: "/User/UserLogin",

                        data: $scope.MenuLoginData
                    }).success(function (data) {

                        if (data["msg"] == "Success") {
                            $rootScope.IsUserLogedIn = true;
                            toastr.success("Login successfully!", "Welcome");
                            $rootScope.mschoolid = data["Data"].muid;
                            $rootScope.muserid = data["Data"].muserid;
                            $rootScope.musername = data["Data"].mname;
                            $rootScope.musertype = data["Data"].musertype;
                            $rootScope.morgname = data["Data"].morgname;
                            var expireDate = new Date();
                            expireDate.setDate(expireDate.getDate() + 1);
                            $cookies.putObject('userdata', data["Data"], { 'expires': expireDate, 'path': '/' });
                            //var dropdownMenu = jQuery(".header-icons .dropdown").children(".dropdown-menu");
                            jQuery(".header-icons .dropdown").removeClass("open");
                            $http.get('/api/QuotationApi/GetTotalNumberId?getid=' + $rootScope.mschoolid).success(function (data) {
                                if (data.length > 0) {

                                    $rootScope.pendingorder = data[3];
                                }
                            });
                            //$scope.Message = "Successfully login done. Welcome " + data["Data"].mname;

                        }
                        else if (data["msg"] == "InvalidCaptcha") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Invalid Captcha or Expired.Please try again";
                            $scope.MSubmitted = false;
                        }
                        else if (data["msg"] == "NotVerify") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Your account is not verified yet.<br/>Please check your email and verify account.";
                            $scope.MSubmitted = false;
                        }
                        else if (data["msg"] == "NotActive") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Your account is under review.<br/>Please contact administrator.";
                            $scope.MSubmitted = false;
                        }
                        else {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Invalid Username or Password";
                            $scope.MSubmitted = false;
                        }
                        grecaptcha.execute('6LfJV9MkAAAAAPJvDFy18GmUo_5oipfGR4umPwHd', { action: 'submit' }).then(function (token) {
                            jQuery("textarea[id='commoncaptcha']").val(token);
                        });
                        //grecaptcha.reset(wid2);
                        $scope.user = null;

                    }).error(function () {

                        alert('failed');

                    })
                }
            };
            $scope.MobileMenuLogin = function () {
                $scope.MenuLoginData.Captcha_Response = jQuery("#commoncaptcha").val(); //widgetId3; //jQuery("#g-recaptcha-response").val();
                $scope.MSubmitted = true;
                if ($scope.IsLoginFormValid) {
                    $http({

                        method: "POST",

                        url: "/User/UserLogin",

                        data: $scope.MenuLoginData
                    }).success(function (data) {

                        if (data["msg"] == "Success") {
                            $rootScope.IsUserLogedIn = true;
                            toastr.success("Login successfully!", "Welcome");
                            $rootScope.mschoolid = data["Data"].muid;
                            $rootScope.muserid = data["Data"].muserid;
                            $rootScope.musername = data["Data"].mname;
                            $rootScope.musertype = data["Data"].musertype;
                            $rootScope.morgname = data["Data"].morgname;
                            var expireDate = new Date();
                            expireDate.setDate(expireDate.getDate() + 1);
                            $cookies.putObject('userdata', data["Data"], { 'expires': expireDate, 'path': '/' });
                            //var dropdownMenu = jQuery(".header-icons .dropdown").children(".dropdown-menu");
                            jQuery(".header-icons .dropdown").removeClass("open");
                            $http.get('/api/QuotationApi/GetTotalNumberId?getid=' + $rootScope.mschoolid).success(function (data) {
                                if (data.length > 0) {

                                    $rootScope.pendingorder = data[3];
                                }
                            });
                            //$scope.Message = "Successfully login done. Welcome " + data["Data"].mname;

                        }
                        else if (data["msg"] == "InvalidCaptcha") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Invalid Captcha or Expired.Please try again";
                            $scope.MSubmitted = false;
                        }
                        else if (data["msg"] == "NotVerify") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Your account is not verified yet.<br/>Please check your email and verify account.";
                            $scope.MSubmitted = false;
                        }
                        else if (data["msg"] == "NotActive") {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Your account is under review.<br/>Please contact administrator.";
                            $scope.MSubmitted = false;
                        }
                        else {
                            $scope.IsError = true;
                            $scope.invalidlogin = "Invalid Username or Password";
                            $scope.MSubmitted = false;
                        }
                        grecaptcha.execute('6LfJV9MkAAAAAPJvDFy18GmUo_5oipfGR4umPwHd', { action: 'submit' }).then(function (token) {
                            jQuery("textarea[id='commoncaptcha']").val(token);
                        });
                        //grecaptcha.reset(wid3);
                        $scope.user = null;

                    }).error(function () {

                        alert('failed');

                    })
                }
            };
            $scope.Logout = function () {
                $scope.MSubmitted = false;
                $rootScope.IsUserLogedIn = false;
                $rootScope.userid = 0;
                $cookies.remove("userdata",{path:'/'});
                $window.location.href = "/Leasing/";
            };

        }

        ]);
        app.controller('newsletterController', ['$rootScope', '$scope', '$http', '$cookies', '$window',
            function ($rootScope, $scope, $http, $cookies, $window, LoginService) {
                /**********************FeedBack Form***************************************/
                $scope.Isnewsletterform = false;
                $scope.MNSubmitted = false;
                $scope.newsletteremail = "";
                //$scope.feedbackdata.museremail = "";
                $scope.newsletterformdata = function () {
                    $scope.MNSubmitted = true;
                    if ($scope.Isnewsletterform && $scope.newsletterformdata!="" && $scope.newsletterformdata!=null) {
                        $http({

                            method: "Get",

                            url: "/Feedback/SaveNewsLetter?nemail="+$scope.newsletteremail,

                            //data: { nemail: $scope.newsletteremail }
                        }).success(function (data) {

                            if (data["msg"] == "Success") {
                                //jQuery("#feedback-dialog .modal").modal("hide");
                                toastr.success(" Thank you for subscribing to our newsletter.", "Thank You.");
                                $scope.newsletteremail = '';
                                $scope.MNSubmitted = false;
                            }
                            else {
                                $scope.IsError = true;
                                $scope.MNSubmitted = false;
                            }



                        }).error(function () {

                            alert('failed');

                        })
                    }
                };

                $scope.$watchGroup(['newsletterform.$valid'], function (newVal) {
                    //alert(newVal);
                    $scope.Isnewsletterform = newVal;

                }, true);
                /**************************************************************************/

            }]);
    </script>
    <script>
        window.onscroll = function () { myFunction() };

        var navbar = document.getElementById("masthead");
        var footer = document.getElementById("colophon");
        var sticky = navbar.offsetTop;
        var footeroff = footer.offsetTop;

        /*function gettop() {
            return (jQuery(window).height()) / 2 + "px";
        }
        function getleft() {
            return (jQuery(window).width()) / 2 + "px";
        }*/
        //var topx =
        // jQuery('.se-pre-con').css('background-position-x', gettop());
        // jQuery('.se-pre-con').css('background-position-y', getleft());
        function myFunction() {

            footer = document.getElementById("colophon");
            footeroff = footer.offsetTop + 25 - footer.offsetHeight;
            //   jQuery('.se-pre-con').css('background-position-x', gettop());
            // jQuery('.se-pre-con').css('background-position-y', getleft());
            if (window.pageYOffset > sticky) {
                jQuery(navbar).addClass('sticky');
                jQuery(".mobiletopsearch").css("display", "none");
                jQuery(".hidesearchicon").css("display", "inherit");
                if (window.pageYOffset > footeroff) {
                    jQuery('.se-pre-con').css('position', 'absolute');

                } else {
                    jQuery('.se-pre-con').css('position', 'fixed');

                }
                jQuery('.sidebar').addClass('top30');
            } else {

                jQuery(navbar).removeClass('sticky');
                jQuery('.se-pre-con').removeClass('sticky');
                jQuery('.sidebar').removeClass('top30');
                jQuery(".mobiletopsearch").css("display", "flex");
                jQuery(".hidesearchicon").css("display", "none");
            }
        }
        jQuery(function () {
            jQuery("#sidebarNavToggler").click(function () {
                //jQuery(".header-icons .userdropdown").removeClass("open");
            });
            jQuery(".header-icons .userdropdown").hover(
                function () {
                    if (jQuery("#sidebarContent").hasClass('u-unfold--hidden')) {
                        var dropdownMenu = jQuery(this).children(".dropdown-menu");
                        dropdownMenu.parent().addClass("open");
                    }
                },
                function () {
                    var dropdownMenu = jQuery(this).children(".dropdown-menu");
                    dropdownMenu.parent().removeClass("open");
                });

            jQuery("a1").focus(function () {
                if (jQuery(this).parent().hasClass("open")) {
                    jQuery(this).parent().removeClass("open");
                    jQuery(this).attr("aria-expanded", "true");
                } else {
                    jQuery(this).parent().addClass("open")
                    jQuery(this).attr("aria-expanded", "true");
                }

            });
            jQuery(".price_slider_wrapper .btn").click(function () {
                jQuery(".site-content").removeClass("active-hh-sidebar");
            });
        });
    </script>
    <script src="~/Content/js/bootstrap3-typeahead.min.js"></script>
    <script>
        jQuery(function () {
            // whenever we hover over a menu item that has a submenu

        });

        //For Mobile Search
        jQuery("#woocommerce-product-search-field-0").typeahead({
            minLength: 1,
            scrollBar: true,
            alignWidth: true,
            autoSelect: true,

            menu: '<ul class="typeahead dropdown-menu"></ul>',
            item: '<li><a href="#"></a></li>',

            source: function (request, response) {
                var cat = jQuery("#product_cat").val();
                request = request.trim();
                jQuery.ajax({
                    url: "/api/ProductApi/GetSearchList",
                    data: {
                        "name": request,
                        "cat": cat
                    },
                    type: "GET",
                    contentType: "json",
                    success: function (data) {
                        items = [];
                        map = {};
                        var i = request;
                        var n = request;
                        items.push(n);
                        map[n] = {
                            id: i,
                            name: n,
                            bname: n,
                        };
                        jQuery.each(data, function (i, item) {
                            var id = item.mprodname;
                            var name = item.mprodname;
                            var flag = item.namewithflag;
                            var bn = item.bname;
                            map[name] = {
                                id: id,
                                name: name,
                                flag: flag,
                                bn: bn,
                            };
                            items.push(name);
                        });
                        response(items);
                        jQuery(".typeahead.dropdown-menu").show();
                        if (data.length <= 0) {
                            jQuery(".typeahead.dropdown-menu").hide();
                        }
                    },
                    error: function (response) {
                        //alert(response.responseText);
                    },
                    failure: function (response) {
                        //alert(response.responseText);
                    }
                });
            },
            updater: function (item) {
                jQuery("#woocommerce-product-search-field-0").val(map[item].id);
                jQuery("#mobile-search-param-0").val(map[item].flag);
                jQuery("#brand-0").val(map[item].bn);
                jQuery(".woocommerce-product-search").submit();
                return item;
                //If simultaneously want to update value somewhere else $("#update").val(map[item].id); return item; } });
            }
        });

        jQuery("#woocommerce-product-search-field-1").typeahead({
            minLength: 1,
            scrollBar: true,
            alignWidth: true,
            autoSelect: true,

            menu: '<ul class="typeahead dropdown-menu"></ul>',
            item: '<li><a href="#"></a></li>',

            source: function (request, response) {
                var cat = jQuery("#product_cat").val();
                request = request.trim();
                jQuery.ajax({
                    url: "/api/ProductApi/GetSearchList",
                    data: {
                        "name": request,
                        "cat": cat
                    },
                    type: "GET",
                    contentType: "json",
                    success: function (data) {
                        items = [];
                        map = {};
                        var i = request;
                        var n = request;
                        /*items.push(n);
                        map[n] = {
                            id: i,
                            name: n
                        };*/
                        jQuery.each(data, function (i, item) {
                            var id = item.mprodname;
                            var name = item.mprodname;
                            var flag = item.namewithflag;
                            var bn = item.bname;
                            map[name] = {
                                id: id,
                                name: name,
                                flag: flag,
                                bn: bn,
                            };
                            items.push(name);
                        });
                        response(items);
                        jQuery(".typeahead.dropdown-menu").show();
                        if (data.length <= 0) {
                            jQuery(".typeahead.dropdown-menu").hide();
                        }
                    },
                    error: function (response) {
                        //alert(response.responseText);
                    },
                    failure: function (response) {
                        //alert(response.responseText);
                    }
                });
            },
            updater: function (item) {
                jQuery("#woocommerce-product-search-field-1").val(map[item].id);
                jQuery("#mobile-search-param").val(map[item].flag);
                jQuery("#brand-1").val(map[item].bn);
                //jQuery("#woocommerce-product-search-field-1").val(map[item].id);
                jQuery(".woocommerce-product-search-1").submit();
                return item;
                //If simultaneously want to update value somewhere else $("#update").val(map[item].id); return item; } });
            }
        });

        jQuery("#search").typeahead({
            minLength: 1,
            scrollBar: true,
            alignWidth: true,
            autoSelect: true,


            menu: '<ul class="typeahead dropdown-menu"></ul>',
            item: '<li><a href="#"></a></li>',

            source: function (request, response) {
                var cat = jQuery("#product_cat").val();
                request = request.trim();
                jQuery.ajax({
                    url: "/api/ProductApi/GetSearchList",
                    data: {
                        "name": request,
                        "cat": cat
                    },
                    type: "GET",
                    contentType: "json",
                    success: function (data) {
                        items = [];
                        map = {};
                        var i = request;
                        var n = request;
                        /*items.push(n);
                        map[n] = {
                            id: i,
                            name: n
                        };*/
                        if (data.length == 1) {
                            jQuery("#search-param").val(data[0].flag);
                        }

                        jQuery.each(data, function (i, item) {
                            var id = item.mprodname;
                            var name = item.mprodname;
                            var flag = item.namewithflag;
                            var bn = item.bname;
                            map[name] = {
                                id: id,
                                name: name,
                                flag: flag,
                                bn: bn,
                            };
                            items.push(name);
                        });
                        response(items);
                        jQuery(".typeahead.dropdown-menu").show();
                        if (data.length <= 0) {
                            jQuery(".typeahead.dropdown-menu").hide();
                        }
                        console.log(response);
                    },
                    error: function (response) {
                        //alert(response.responseText);
                    },
                    failure: function (response) {
                        //alert(response.responseText);
                    }
                });
            },
            updater: function (item) {
                //alert(item);
                jQuery("#search").val(map[item].id);
                jQuery("#search-param").val(map[item].flag);
                jQuery("#brand-2").val(map[item].bn);
                jQuery("#navbarsearch").submit();
                return item;
                //If simultaneously want to update value somewhere else $("#update").val(map[item].id); return item; } });
            },

        });
        
    </script>
    @if (pageName != "index")
    {
        <script src="~/Content/js/address/getaddress.js"></script>
        <script>
            jQuery(function () {
                jQuery('#postcode_lookup').getAddress(
                    {
                        api_key: 'aftW_j9KrkakTrJ026QoSA27396',
                        output_fields: {
                            line_1: '#line1',
                            line_2: '#line2',
                            line_3: '#line3',
                            post_town: '#town',
                            county: '#county',
                            postcode: '#postcode'
                        }
                    });

            });
        </script>

    }


    @RenderSection("scripts", required: false)
    <script src="~/Content/angularcontroller/Shopping.js?v=1.2"></script>
    <script>
        jQuery('.qty').on('keypress', function (e) {
            if (jQuery(this).length > 2) {
                e.preventDefault();
                //$(this).val(100);
            }

        });
    </script>

    <style>
        #tickcookie {
            display: block;
            position: fixed;
            min-width: 100%;
            height: auto;
            z-index: 100000;
            font-size: 13px;
            line-height: 20px;
            left: 0;
            text-align: center;
            bottom: 0;
        }

        .cookie-notice-container {
            padding: 10px;
            text-align: center;
            width: 100%;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        #tickcookie .cn-button {
            margin-left: 10px;
        }

        .cn-button.bootstrap {
            font-family: sans-serif;
            display: inline-block;
            *display: inline;
            padding: 4px 12px;
            margin-right: .3em;
            margin-bottom: 0;
            *margin-left: .3em;
            line-height: 20px;
            color: #333;
            text-align: center;
            text-shadow: 0 1px 1px rgba(255, 255, 255, .75);
            font-style: normal;
            vertical-align: middle;
            cursor: pointer;
            color: #fff;
            text-shadow: 0 -1px 0 rgba(0, 0, 0, .25);
            background-color: #006dcc;
            *background-color: #04c;
            background-image: -moz-linear-gradient(top, #0088cc, #0044cc);
            background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0044cc));
            background-image: -webkit-linear-gradient(top, #0088cc, #0044cc);
            background-image: -o-linear-gradient(top, #0088cc, #0044cc);
            background-image: linear-gradient(to bottom, #0088cc, #0044cc);
            background-repeat: repeat-x;
            border-style: solid;
            border-width: 1px;
            border-color: #04c #04c #002a80;
            border-color: rgba(0, 0, 0, .1) rgba(0, 0, 0, .1) rgba(0, 0, 0, .25);
            box-shadow: 0 1px 0 rgba(255, 255, 255, .2) inset, 0 1px 2px rgba(0, 0, 0, .05);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0044cc', GradientType=0);
            filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
            padding: 2px 10px;
            font-size: 12px;
            text-decoration: none;
            -webkit-border-radius: 3px;
            -moz-border-radius: 3px;
            border-radius: 3px;
            outline: none;
        }
    </style>
    <!--<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit" async defer></script>-->
    <script src="https://www.google.com/recaptcha/api.js?render=6LfJV9MkAAAAAPJvDFy18GmUo_5oipfGR4umPwHd"></script>
    <script>
        grecaptcha.ready(function () {
            grecaptcha.execute('6LfJV9MkAAAAAPJvDFy18GmUo_5oipfGR4umPwHd', { action: 'submit' }).then(function (token) {
                // Add your logic to submit to your backend server here.
                jQuery("textarea[id='commoncaptcha']").val(token);
                //console.log(token);
            });
        });

    </script>
    <script>
        (function ($) {
            $(window).load(function () {

                $("#content-3").mCustomScrollbar({
                    scrollButtons: { enable: true },
                    theme: "light-thick",
                    scrollbarPosition: "outside"
                });
            });
        });
    </script>
    <!--<div id="tickcookie" role="banner" class="cn-bottom bootstrap" style="color: #fff; background-color: #022b69;">
        <div class="cookie-notice-container">
            <span id="cn-notice-text">We use cookies to ensure that we give you the best experience on our website. If you continue to use this site we will assume that you are happy with it.</span>
            <a href="#" id="tick-accept-cookie" data-cookie-set="accept" class="tick-set-cookie cn-button bootstrap button">Ok</a>
        </div>

    </div>
    <script src="~/Content/tickcookie.js"></script>-->
    <!-- Add after your form -->


</body>
</html>
